<?php eval("?>".base64_decode("PD9waHANCnNlc3Npb25fc3RhcnQoKTsNCmluY2x1ZGUgImRiX2Nvbm5lY3Rpb24ucGhwIjsNCi8vaW5jbHVkZSAnRXhjZWwvcmVhZGVyLnBocCc7DQpzZXRfdGltZV9saW1pdCgwKTsNCmVycm9yX3JlcG9ydGluZygwKTsNCmZ1bmN0aW9uIGdldFN1cGVyQ2F0ZWdvcnkoJHNvcnRpbmcpIHsNCiAgICBpZigkc29ydGluZyA9PSAnY2EnKXsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NhdGVnb3J5IFdIRVJFIHBhcmVudF9pZCA9ICcwJyBBTkQgc3VwZXJfaWQgPSAnMCcgT1JERVIgQlkgY2F0ZWdvcnlfbmFtZSBBU0MiOyAgDQogICAgfWVsc2VpZigkc29ydGluZyA9PSAnY2QnKXsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NhdGVnb3J5IFdIRVJFIHBhcmVudF9pZCA9ICcwJyBBTkQgc3VwZXJfaWQgPSAnMCcgT1JERVIgQlkgY2F0ZWdvcnlfbmFtZSBERVNDIjsgIA0KICAgIH1lbHNlIHsgDQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jYXRlZ29yeSBXSEVSRSBwYXJlbnRfaWQgPSAnMCcgQU5EIHN1cGVyX2lkID0gJzAnIE9SREVSIEJZIHNvcnQgQVNDIjsNCiAgICB9ICANCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gZ2V0Q2F0ZWdvcnkoJHNvcnRpbmcpIHsNCiAgICBpZigkc29ydGluZyA9PSAnY2EnKXsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NhdGVnb3J5IFdIRVJFIHN1cGVyX2lkICE9ICcwJyBBTkQgcGFyZW50X2lkID0gJzAnIE9SREVSIEJZIGNhdGVnb3J5X25hbWUgQVNDIjsgIA0KICAgIH1lbHNlaWYoJHNvcnRpbmcgPT0gJ2NkJyl7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jYXRlZ29yeSBXSEVSRSBzdXBlcl9pZCAhPSAnMCcgQU5EIHBhcmVudF9pZCA9ICcwJyBPUkRFUiBCWSBjYXRlZ29yeV9uYW1lIERFU0MiOyAgDQogICAgfWVsc2UgeyANCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NhdGVnb3J5IFdIRVJFIHN1cGVyX2lkICE9ICcwJyBBTkQgcGFyZW50X2lkID0gJzAnIE9SREVSIEJZIHNvcnQgQVNDIjsNCiAgICB9ICANCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gZ2V0U3ViQ2F0ZWdvcnkoJHNvcnRpbmcpIHsNCiAgICBpZigkc29ydGluZyA9PSAnc2NhJyl7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jYXRlZ29yeSBXSEVSRSBzdXBlcl9pZCAhPSAnMCcgQU5EIHBhcmVudF9pZCAhPSAnMCcgT1JERVIgQlkgY2F0ZWdvcnlfbmFtZSBBU0MiOyAgDQogICAgfWVsc2VpZigkc29ydGluZyA9PSAnc2NkJyl7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jYXRlZ29yeSBXSEVSRSBzdXBlcl9pZCAhPSAnMCcgQU5EIHBhcmVudF9pZCAhPSAnMCcgT1JERVIgQlkgY2F0ZWdvcnlfbmFtZSBERVNDIjsgIA0KICAgIH1lbHNlIHsgDQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jYXRlZ29yeSBXSEVSRSBzdXBlcl9pZCAhPSAnMCcgQU5EIHBhcmVudF9pZCAhPSAnMCcgT1JERVIgQlkgc29ydCBBU0MiOw0KICAgIH0NCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gZ2V0U3ViQ2F0ZWdvcnlVKCRzX2lkKSB7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jYXRlZ29yeSBXSEVSRSBwYXJlbnRfaWQgPSAnJHNfaWQnIE9SREVSIEJZIHNvcnQgQVNDIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlVKCRjX2lkKSB7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jYXRlZ29yeSBXSEVSRSBzdXBlcl9pZCA9ICckY19pZCcgQU5EIHBhcmVudF9pZCA9JzAnIE9SREVSIEJZIHNvcnQgQVNDIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gZWRpdENhdGVnb3J5KCRpZCkgew0KICAgICRzZWxlY3RfY2F0ZWdvcnkgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY2F0ZWdvcnkgV0hFUkUgaWQgPSAnIi4kaWQuIiciOw0KICAgICRjYXRlZ29yeSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfY2F0ZWdvcnkpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNhdGVnb3J5KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBlZGl0U3ViQ2F0ZWdvcnkoJGlkKSB7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jYXRlZ29yeSBXSEVSRSBpZCA9ICciLiRpZC4iJyI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2F0ZWdvcnkpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gZ2V0U3VwZXJDYXRlZ29yeUFjdGl2ZSgkc3RhcnQsJGxpbWl0KSB7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jYXRlZ29yeSBXSEVSRSBzdXBlcl9pZCA9ICcwJyBBTkQgcGFyZW50X2lkID0gJzAnIEFORCBzdGF0dXMgPSAnMScgTElNSVQgJHN0YXJ0LCAkbGltaXQiOw0KICAgICRjYXRlZ29yeSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfY2F0ZWdvcnkpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNhdGVnb3J5KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXRTdXBlckNhdGVnb3J5QWN0aXZlQSgpIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NhdGVnb3J5IFdIRVJFIHN1cGVyX2lkID0gJzAnIEFORCBwYXJlbnRfaWQgPSAnMCcgQU5EIHN0YXR1cyA9ICcxJyI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2F0ZWdvcnkpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gU3VwZXJDb3VudCgpIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NhdGVnb3J5IFdIRVJFIHN1cGVyX2lkID0gJzAnIEFORCBwYXJlbnRfaWQgPSAnMCcgQU5EIHN0YXR1cyA9ICcxJyI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2F0ZWdvcnkpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIENhdGVDb3VudCgpIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NhdGVnb3J5IFdIRVJFIHN1cGVyX2lkICE9ICcwJyBBTkQgcGFyZW50X2lkID0gJzAnIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gU3ViQ2F0ZUNvdW50KCkgew0KICAgICRzZWxlY3RfY2F0ZWdvcnkgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY2F0ZWdvcnkgV0hFUkUgc3VwZXJfaWQgIT0gJzAnIEFORCBwYXJlbnRfaWQgIT0gJzAnIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQpmdW5jdGlvbiBnZXRTdXBlckNhdGUoJHN1cGVyX2NhdGVnb3J5X2lkKSB7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jYXRlZ29yeSBXSEVSRSBpZCA9ICciLiRzdXBlcl9jYXRlZ29yeV9pZC4iJyBBTkQgc3RhdHVzID0gJzEnIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNhdGVnb3J5KTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ2NhdGVnb3J5X25hbWUnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBnZXRDYXRlKCRjYXRlZ29yeV9pZCkgew0KICAgICRzZWxlY3RfY2F0ZWdvcnkgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY2F0ZWdvcnkgV0hFUkUgaWQgPSAnIi4kY2F0ZWdvcnlfaWQuIicgQU5EIHN0YXR1cyA9ICcxJyI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydjYXRlZ29yeV9uYW1lJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gZ2V0U3ViQ2F0ZSgkc3ViX2NhdGVnb3J5X2lkKSB7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jYXRlZ29yeSBXSEVSRSBpZCA9ICciLiRzdWJfY2F0ZWdvcnlfaWQuIicgQU5EIHN0YXR1cyA9ICcxJyI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydjYXRlZ29yeV9uYW1lJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlBY3RpdmUoKSB7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jYXRlZ29yeSBXSEVSRSBzdXBlcl9pZCAhPSAnMCcgQU5EIHN0YXR1cyA9ICcxJyBBTkQgcGFyZW50X2lkID0gJzAnIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gQ2F0ZWdvcnlMb2FkKCRpZCkgew0KICAgICRzZWxlY3RfY2F0ZWdvcnkgPSAic2VsZWN0ICogZnJvbSBzb2hvcmVwcm9fY2F0ZWdvcnkgd2hlcmUgKHN1cGVyX2lkICE9JzAnIEFORCBzdXBlcl9pZCA9JyIuJGlkLiInKSBBTkQgcGFyZW50X2lkID0gJzAnIE9SREVSIEJZIGNhdGVnb3J5X25hbWUgQVNDICI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2F0ZWdvcnkpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIFN1YkNhdGVnb3J5TG9hZCgkc3VwX2lkLCRjYXRfaWQpIHsNCiAgICAkc3VwZXJfY2F0ZWdvcnlfaWQgPSAoJHN1cF9pZCA9PSAnJykgPyAnOTk5JzogJHN1cF9pZDsNCiAgICAkY2F0ZWdvcnlfaWQgPSAoJGNhdF9pZCA9PSAnJykgPyAnOTk5JzogJGNhdF9pZDsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gInNlbGVjdCAqIGZyb20gc29ob3JlcHJvX2NhdGVnb3J5IFdIRVJFIHN1cGVyX2lkID0nIi4kc3VwZXJfY2F0ZWdvcnlfaWQuIicgQU5EIHBhcmVudF9pZCA9ICciLiRjYXRlZ29yeV9pZC4iJyBPUkRFUiBCWSBjYXRlZ29yeV9uYW1lIEFTQyAiOw0KICAgICRjYXRlZ29yeSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfY2F0ZWdvcnkpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNhdGVnb3J5KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXRTdXBlckNhdCgpIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NhdGVnb3J5IFdIRVJFIHN1cGVyX2lkID0gJzAnIEFORCBzdGF0dXMgPSAnMScgT1JERVIgQlkgY2F0ZWdvcnlfbmFtZSBBU0MiOw0KICAgICRjYXRlZ29yeSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfY2F0ZWdvcnkpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNhdGVnb3J5KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQoNCmZ1bmN0aW9uIGdldFN1YkNhdGVnb3J5QWN0aXZlKCRzdXBlcl9pZCwkY2FfaWQpIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NhdGVnb3J5IFdIRVJFIHN1cGVyX2lkID0gJyIuJHN1cGVyX2lkLiInIEFORCBwYXJlbnRfaWQgPSAnIi4kY2FfaWQuIicgIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlOYW1lKCRwYXJlbnQpIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCBjYXRlZ29yeV9uYW1lIEZST00gc29ob3JlcHJvX2NhdGVnb3J5IFdIRVJFIGlkID0gJyIuJHBhcmVudC4iJyI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydjYXRlZ29yeV9uYW1lJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gZ2V0U3VwZXJDYXRlZ29yeU5hbWUoJHN1cGVyX2lkKSB7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgY2F0ZWdvcnlfbmFtZSBGUk9NIHNvaG9yZXByb19jYXRlZ29yeSBXSEVSRSBpZCA9ICciLiRzdXBlcl9pZC4iJyI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydjYXRlZ29yeV9uYW1lJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gZ2V0U3ViQ2F0ZWdvcnlOYW1lKCRwYXJlbnQpIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCBjYXRlZ29yeV9uYW1lIEZST00gc29ob3JlcHJvX2NhdGVnb3J5IFdIRVJFIGlkID0gJyIuJHBhcmVudC4iJyI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydjYXRlZ29yeV9uYW1lJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gZ2V0U3ViQ2F0ZWdvcnlBY3RpdmVFKCRzX2lkKSB7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgY2F0ZWdvcnlfbmFtZSBGUk9NIHNvaG9yZXByb19jYXRlZ29yeSBXSEVSRSBpZCA9ICciLiRzX2lkLiInIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNhdGVnb3J5KTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ2NhdGVnb3J5X25hbWUnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQoNCg0KZnVuY3Rpb24gZ2V0QWxsQ2F0ZWdvcnlBY3RpdmUoKSB7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jYXRlZ29yeSBXSEVSRSBzdGF0dXMgPSAnMSciOw0KICAgICRjYXRlZ29yeSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfY2F0ZWdvcnkpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNhdGVnb3J5KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXRQcm9kdWN0cygkc29ydGluZywkc3RhcnQsJGxpbWl0KSB7ICAgIA0KICAgIGlmKCRzb3J0aW5nID09ICdwbmEnKXsNCiAgICAkc2VsZWN0X3Byb2R1Y3RzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3Byb2R1Y3RzIE9SREVSIEJZIHByb2R1Y3RfbmFtZSBBU0MgTElNSVQgJHN0YXJ0LCAkbGltaXQiOyAgDQogICAgfWVsc2VpZiAoJHNvcnRpbmcgPT0gJ3BuZCcpIHsNCiAgICAkc2VsZWN0X3Byb2R1Y3RzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3Byb2R1Y3RzIE9SREVSIEJZIHByb2R1Y3RfbmFtZSBERVNDIExJTUlUICRzdGFydCwgJGxpbWl0IjsgICAgICANCiAgICB9ZWxzZWlmICgkc29ydGluZyA9PSAncHNhJykgew0KICAgICRzZWxlY3RfcHJvZHVjdHMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcHJvZHVjdHMgT1JERVIgQlkgc2t1X2lkIEFTQyBMSU1JVCAkc3RhcnQsICRsaW1pdCI7ICAgICAgDQogICAgfWVsc2VpZiAoJHNvcnRpbmcgPT0gJ3BzZCcpIHsNCiAgICAkc2VsZWN0X3Byb2R1Y3RzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3Byb2R1Y3RzIE9SREVSIEJZIHNrdV9pZCBERVNDIExJTUlUICRzdGFydCwgJGxpbWl0IjsgICAgICANCiAgICB9ZWxzZWlmICgkc29ydGluZyA9PSAncHBhJykgew0KICAgICRzZWxlY3RfcHJvZHVjdHMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcHJvZHVjdHMgT1JERVIgQlkgcHJpY2UgQVNDIExJTUlUICRzdGFydCwgJGxpbWl0IjsgICAgICANCiAgICB9ZWxzZWlmICgkc29ydGluZyA9PSAncHBkJykgew0KICAgICRzZWxlY3RfcHJvZHVjdHMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcHJvZHVjdHMgT1JERVIgQlkgcHJpY2UgREVTQyBMSU1JVCAkc3RhcnQsICRsaW1pdCI7ICAgICAgDQogICAgfSAgZWxzZSB7DQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wcm9kdWN0cyBPUkRFUiBCWSBza3VfaWQgQVNDIExJTUlUICRzdGFydCwgJGxpbWl0IjsgICANCiAgICB9ICANCiAgICAkcHJvZHVjdHMgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3Byb2R1Y3RzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcm9kdWN0cykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQpmdW5jdGlvbiBQcm9kdWN0c0NvdW50KCkgeyAgICANCiAgICAkc2VsZWN0X3Byb2R1Y3RzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3Byb2R1Y3RzIjsgDQogICAgJHByb2R1Y3RzID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9wcm9kdWN0cyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJvZHVjdHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gZWRpdFBkb3J1Y3RzKCRpZCkgew0KICAgICRzZWxlY3RfcHJvZHVjdHMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcHJvZHVjdHMgV0hFUkUgaWQgPSAnIi4kaWQuIiciOw0KICAgICRwcm9kdWN0cyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJvZHVjdHMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3RzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBlZGl0UGRvcnVjdHNPcmRlcigkaWQsJG9yZF9pZCkgew0KICAgICRzZWxlY3RfcHJvZHVjdHMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcHJvZHVjdHMgV0hFUkUgaWQgPSAnIi4kaWQuIiciOw0KICAgICRwcm9kdWN0cyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJvZHVjdHMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3RzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXRQcm9kdWN0c1UoJGNfaWQsJHNfaWQsJHN1X2lkKSB7DQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wcm9kdWN0cyBXSEVSRSBzdXBlcmNhdGVnb3J5X2lkID0gJyIuJGNfaWQuIicgQU5EIGNhdGVnb3J5X2lkID0gJyIuJHNfaWQuIicgQU5EIHN1YmNhdGVnb3J5X2lkID0gJyIuJHN1X2lkLiInT1JERVIgQlkgc29ydCBBU0MiIDsNCiAgICAkcHJvZHVjdHMgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3Byb2R1Y3RzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcm9kdWN0cykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gZ2V0T3JkZXJzQWxsKCRzb3J0aW5nLCRzdGFydCwkbGltaXQpIHsNCiAgICAvL3JldHVybiAkc29ydGluZzsNCiAgICBpZigkc29ydGluZyA9PSAnYScpew0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX29yZGVyX21hc3RlciBPUkRFUiBCWSBjcmVhdGVkX2RhdGUgQVNDIExJTUlUICRzdGFydCwgJGxpbWl0IjsgIA0KICAgIH0gIA0KICAgIGVsc2VpZigkc29ydGluZyA9PSAnZCcpIA0KICAgIHsNCiAgICAkc2VsZWN0X29yZGVycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19vcmRlcl9tYXN0ZXIgT1JERVIgQlkgY3JlYXRlZF9kYXRlIERFU0MgTElNSVQgJHN0YXJ0LCAkbGltaXQiOyAgICAgDQogICAgfQ0KICAgIGVsc2VpZigkc29ydGluZyA9PSAnam5kJykgDQogICAgew0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX29yZGVyX21hc3RlciBPUkRFUiBCWSBvcmRlcl9pZCBERVNDIExJTUlUICRzdGFydCwgJGxpbWl0IjsgICAgIA0KICAgIH0NCiAgICBlbHNlaWYoJHNvcnRpbmcgPT0gJ2puYScpIA0KICAgIHsNCiAgICAkc2VsZWN0X29yZGVycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19vcmRlcl9tYXN0ZXIgT1JERVIgQlkgb3JkZXJfaWQgQVNDIExJTUlUICRzdGFydCwgJGxpbWl0IjsgICAgIA0KICAgIH0NCiAgICANCiAgICBlbHNlaWYoJHNvcnRpbmcgPT0gJ3BkJykgDQogICAgew0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX29yZGVyX21hc3RlciBPUkRFUiBCWSBjdXN0b21lcl9jb21wYW55X25hbWUgREVTQyBMSU1JVCAkc3RhcnQsICRsaW1pdCI7ICAgICANCiAgICB9DQogICAgZWxzZWlmKCRzb3J0aW5nID09ICdwYScpIA0KICAgIHsNCiAgICAkc2VsZWN0X29yZGVycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19vcmRlcl9tYXN0ZXIgT1JERVIgQlkgY3VzdG9tZXJfY29tcGFueV9uYW1lIEFTQyBMSU1JVCAkc3RhcnQsICRsaW1pdCI7ICAgICANCiAgICB9ICAgIA0KICAgIGVsc2UgDQogICAgew0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX29yZGVyX21hc3RlciBPUkRFUiBCWSBpZCBERVNDIExJTUlUICRzdGFydCwgJGxpbWl0IjsNCiAgICB9DQogICAgJG9yZGVycyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3Rfb3JkZXJzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRvcmRlcnMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KLy9PcGVuIE9yZGVycyBTZXJ2aWNlDQpmdW5jdGlvbiBnZXRPcmRlcnNBbGxTZXJ2aWNlcygkc29ydGluZywkc3RhcnQsJGxpbWl0KSB7DQogICAgDQogICAgaWYoJHNvcnRpbmcgPT0gJ2EnKXsNCiAgICAkc2VsZWN0X29yZGVycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19vcmRlcl9tYXN0ZXJfc2VydmljZSBPUkRFUiBCWSBvcmRlcl9zZXF1ZW5jZSBBU0MgTElNSVQgJHN0YXJ0LCAkbGltaXQiOyAgDQogICAgfSAgDQogICAgZWxzZWlmKCRzb3J0aW5nID09ICdkJykgDQogICAgew0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX29yZGVyX21hc3Rlcl9zZXJ2aWNlIE9SREVSIEJZIG9yZGVyX3NlcXVlbmNlIERFU0MgTElNSVQgJHN0YXJ0LCAkbGltaXQiOyAgICAgDQogICAgfQ0KICAgIGVsc2VpZigkc29ydGluZyA9PSAnam5kJykgDQogICAgew0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX29yZGVyX21hc3Rlcl9zZXJ2aWNlIE9SREVSIEJZIHJlZmVyZW5jZSBBU0MgTElNSVQgJHN0YXJ0LCAkbGltaXQiOyAgIA0KICAgIH0NCiAgICBlbHNlaWYoJHNvcnRpbmcgPT0gJ2puYScpIA0KICAgIHsNCiAgICAkc2VsZWN0X29yZGVycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19vcmRlcl9tYXN0ZXJfc2VydmljZSBPUkRFUiBCWSByZWZlcmVuY2UgREVTQyBMSU1JVCAkc3RhcnQsICRsaW1pdCI7ICAgICAgDQogICAgfQ0KICAgIA0KICAgIGVsc2VpZigkc29ydGluZyA9PSAncGQnKSANCiAgICB7DQogICAgJHNlbGVjdF9vcmRlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fb3JkZXJfbWFzdGVyX3NlcnZpY2UgT1JERVIgQlkgcmVmZXJlbmNlIEFTQyBMSU1JVCAkc3RhcnQsICRsaW1pdCI7ICANCiAgICB9DQogICAgZWxzZWlmKCRzb3J0aW5nID09ICdwYScpIA0KICAgIHsNCiAgICAkc2VsZWN0X29yZGVycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19vcmRlcl9tYXN0ZXJfc2VydmljZSBPUkRFUiBCWSByZWZlcmVuY2UgREVTQyBMSU1JVCAkc3RhcnQsICRsaW1pdCI7ICAgDQogICAgfQ0KICAgIA0KICAgIGVsc2UgDQogICAgew0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX29yZGVyX21hc3Rlcl9zZXJ2aWNlIE9SREVSIEJZIGlkIERFU0MgTElNSVQgJHN0YXJ0LCAkbGltaXQiOw0KICAgIH0NCiAgICAkb3JkZXJzID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9vcmRlcnMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJG9yZGVycykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICByZXR1cm4gJHZhbHVlOw0KfQ0KDQoNCmZ1bmN0aW9uIE9yZGVyc0NvdW50KCkgeyAgICANCiAgICAkc2VsZWN0X29yZGVycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19vcmRlcl9tYXN0ZXIiOyANCiAgICAkb3JkZXJzID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9vcmRlcnMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJG9yZGVycykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gU2VyaXZpY2VPcmRlcnNDb3VudCgpIHsgICAgDQogICAgJHNlbGVjdF9vcmRlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fb3JkZXJfbWFzdGVyX3NlcnZpY2UiOyANCiAgICAkb3JkZXJzID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9vcmRlcnMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJG9yZGVycykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQpmdW5jdGlvbiBnZXRDbG9zZWRPcmRlcnNBbGwoJHNvcnRpbmcpIHsNCiAgICAvL3JldHVybiAkc29ydGluZzsNCiAgICBpZigkc29ydGluZyA9PSAnYScpew0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX29yZGVyX21hc3RlciBXSEVSRSBjbG9zZWRfc3RhdHVzID0gJzEnIE9SREVSIEJZIGNyZWF0ZWRfZGF0ZSBBU0MiOyAgDQogICAgfSAgDQogICAgZWxzZWlmKCRzb3J0aW5nID09ICdkJykgDQogICAgew0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX29yZGVyX21hc3RlciBXSEVSRSBjbG9zZWRfc3RhdHVzID0gJzEnIE9SREVSIEJZIGNyZWF0ZWRfZGF0ZSBERVNDIjsgICAgIA0KICAgIH0NCiAgICBlbHNlaWYoJHNvcnRpbmcgPT0gJ2puZCcpIA0KICAgIHsNCiAgICAkc2VsZWN0X29yZGVycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19vcmRlcl9tYXN0ZXIgV0hFUkUgY2xvc2VkX3N0YXR1cyA9ICcxJyBPUkRFUiBCWSBvcmRlcl9pZCBERVNDIjsgICAgIA0KICAgIH0NCiAgICBlbHNlaWYoJHNvcnRpbmcgPT0gJ2puYScpIA0KICAgIHsNCiAgICAkc2VsZWN0X29yZGVycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19vcmRlcl9tYXN0ZXIgV0hFUkUgY2xvc2VkX3N0YXR1cyA9ICcxJyBPUkRFUiBCWSBvcmRlcl9pZCBBU0MiOyAgICAgDQogICAgfQ0KICAgIGVsc2UgDQogICAgew0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX29yZGVyX21hc3RlciBXSEVSRSBjbG9zZWRfc3RhdHVzID0gJzEnIE9SREVSIEJZIGlkIEFTQyI7ICAgICAgICANCiAgICB9DQogICAgJG9yZGVycyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3Rfb3JkZXJzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRvcmRlcnMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQpmdW5jdGlvbiBnZXRQcmljZSgkaWQpIHsNCiAgICAkc2VsZWN0X3ByaWNlID0gIlNFTEVDVCBzdW0ocHJvZHVjdF9wcmljZSAqIHByb2R1Y3RfcXVhbnRpdHkpIGFzIHN1Yl90b3RhbCBGUk9NIHNvaG9yZXByb19wcm9kdWN0X21hc3RlciBXSEVSRSBvcmRlcl9pZCA9ICciLiRpZC4iJyIgOw0KICAgICRwcmljZSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJpY2UpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByaWNlKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXRUYXhTdGF0dXMoJGlkKSB7DQogICAgJHNlbGVjdF90YXggPSAiU0VMRUNUIHRheF9zdGF0dXMgRlJPTSBzb2hvcmVwcm9fcHJvZHVjdF9tYXN0ZXIgV0hFUkUgb3JkZXJfaWQgPSAnIi4kaWQuIiciIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3RheCk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcmljZSk7DQogICAgJHZhbHVlID0gJG9iamVjdFsndGF4X3N0YXR1cyddOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIGdldFRheFN0YXR1c0NoaygkaWQpIHsNCiAgICAkc2VsZWN0X3RheCA9ICJTRUxFQ1QgdGF4X2V4ZSBGUk9NIHNvaG9yZXByb19jb21wYW55IFdIRVJFIGNvbXBfaWQgPSAnIi4kaWQuIiciIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3RheCk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcmljZSk7DQogICAgJHZhbHVlID0gJG9iamVjdFsndGF4X2V4ZSddOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIGdldFByaWNlQWxsKCRpZCkgew0KICAgICRzZWxlY3RfcHJpY2UgPSAiU0VMRUNUIHN1bShwcm9kdWN0X3F1YW50aXR5KSxzdW0ocHJvZHVjdF9wcmljZSkgRlJPTSBzb2hvcmVwcm9fcHJvZHVjdF9tYXN0ZXIgV0hFUkUgb3JkZXJfaWQgPSAnIi4kaWQuIiciIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3ByaWNlKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByaWNlKTsNCiAgICAkdmFsdWUgPSAkb2JqZWN0WydzdW0ocHJvZHVjdF9xdWFudGl0eSknXTsgICAgDQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gdmlld09yZGVycygkaWQpIHsNCiAgICAvL3JldHVybiAkaWQ7DQogICAgJHNlbGVjdF9vcmRlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcHJvZHVjdF9tYXN0ZXIgV0hFUkUgb3JkZXJfaWQgPSAnIi4kaWQuIiciIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X29yZGVycyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJpY2UpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIHZpZXdPcmRlcnNTaGlwcFNpbmdsZSgkaWQsJE9yZGVyX2lkKSB7DQogICAgJHNlbGVjdF9vcmRlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcHJvZHVjdF9tYXN0ZXIgV0hFUkUgc2hpcHBpbmdfYWRkX2lkID0gJyIuJGlkLiInIEFORCBvcmRlcl9pZCA9ICciLiRPcmRlcl9pZC4iJyAiIDsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X29yZGVycyk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydpZCddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIHZpZXdPcmRlcnNTaGlwcCgkaWQsJE9yZGVyX2lkKSB7DQogICAgJHNlbGVjdF9vcmRlcnMgPSAiU0VMRUNUIGlkIEZST00gc29ob3JlcHJvX3Byb2R1Y3RfbWFzdGVyIFdIRVJFIHNoaXBwaW5nX2FkZF9pZCA9ICciLiRpZC4iJyBBTkQgb3JkZXJfaWQgPSAnIi4kT3JkZXJfaWQuIicgIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X29yZGVycyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gQ29tcElkV2l0aE9yZGVyKCRpZCkgew0KICAgICRzZWxlY3RfY2F0ZWdvcnkgPSAiU0VMRUNUIGN1c3RvbWVyX2NvbXBhbnkgRlJPTSBzb2hvcmVwcm9fb3JkZXJfbWFzdGVyIFdIRVJFIGlkID0gJyIuJGlkLiInIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNhdGVnb3J5KTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ2N1c3RvbWVyX2NvbXBhbnknXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBnZXRvcmRlclByb2QoJGlkKSB7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgcHJvZHVjdF9uYW1lIEZST00gc29ob3JlcHJvX3Byb2R1Y3RzIFdIRVJFIGlkID0gJyIuJGlkLiInIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNhdGVnb3J5KTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ3Byb2R1Y3RfbmFtZSddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCg0KZnVuY3Rpb24gUHJvZE5hbWVGb3JBZGQoJGlkKSB7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgcHJvZHVjdF9uYW1lIEZST00gc29ob3JlcHJvX3Byb2R1Y3RzIFdIRVJFIGlkID0gJyIuJGlkLiInIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNhdGVnb3J5KTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ3Byb2R1Y3RfbmFtZSddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIEdldFNoaXBwZm9yQWRkUHJvZCgkaWQpIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCBzaGlwcGluZ19hZGRfaWQgRlJPTSBzb2hvcmVwcm9fcHJvZHVjdF9tYXN0ZXIgV0hFUkUgb3JkZXJfaWQgPSAnIi4kaWQuIiciOw0KICAgICRjYXRlZ29yeSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfY2F0ZWdvcnkpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2F0ZWdvcnkpOw0KICAgICRjYXRnID0gJG9iamVjdFsnc2hpcHBpbmdfYWRkX2lkJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gUHJvZFByaWNlRm9yQWRkKCRpZCkgew0KICAgICRzZWxlY3RfY2F0ZWdvcnkgPSAiU0VMRUNUIHByaWNlIEZST00gc29ob3JlcHJvX3Byb2R1Y3RzIFdIRVJFIGlkID0gJyIuJGlkLiInIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNhdGVnb3J5KTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ3ByaWNlJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gT3JpZ2luYWxRdHkoJG9yZGVyX2lkLCRwcm9kdWN0X2lkKSB7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgcHJvZHVjdF9xdWFudGl0eSBGUk9NIHNvaG9yZXByb19wcm9kdWN0X21hc3RlciBXSEVSRSBvcmRlcl9pZCA9ICciLiRvcmRlcl9pZC4iJyBBTkQgcHJvZHVjdF9pZCA9ICciLiRwcm9kdWN0X2lkLiInICI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSk7DQogICAgJGNhdGcgPSAkb2JqZWN0Wydwcm9kdWN0X3F1YW50aXR5J107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KDQpmdW5jdGlvbiBnZXRvcmRlclByb2RqYSgkaWQpIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCBpZCBGUk9NIHNvaG9yZXByb19wcm9kdWN0cyBXSEVSRSBpZCA9ICciLiRpZC4iJyI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydpZCddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIGdldG9yZGVyU2t1KCRpZCkgew0KICAgICRzZWxlY3RfY2F0ZWdvcnkgPSAiU0VMRUNUIHNrdV9pZCBGUk9NIHNvaG9yZXByb19wcm9kdWN0cyBXSEVSRSBpZCA9ICciLiRpZC4iJyI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSk7DQogICAgJGNhdGcgPSAkb2JqZWN0Wydza3VfaWQnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBFeGlzdFF1YW50aXR5KCRwcm9kdWN0X2lkLCRvcmRlcl9pZCkgew0KICAgICRzZWxlY3RfcXR5ID0gIlNFTEVDVCBwcm9kdWN0X3F1YW50aXR5IEZST00gc29ob3JlcHJvX3Byb2R1Y3RfbWFzdGVyIFdIRVJFIHByb2R1Y3RfaWQgPSAnIi4kcHJvZHVjdF9pZC4iJyAgQU5EIG9yZGVyX2lkID0gJyIuJG9yZGVyX2lkLiInICI7DQogICAgJHF1YW50aXR5ICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3F0eSk7DQogICAgJG9iamVjdCAgICAgPSBteXNxbF9mZXRjaF9hc3NvYygkcXVhbnRpdHkpOw0KICAgICRxdHkgICAgICAgID0gJG9iamVjdFsncHJvZHVjdF9xdWFudGl0eSddOyANCiAgICByZXR1cm4gJHF0eTsNCn0NCg0KDQpmdW5jdGlvbiBFeGlzdFF1YW50aXR5R3Vlc3QoJHByb2R1Y3RfaWQsJGlkKSB7DQogICAgJHNlbGVjdF9xdHkgPSAiU0VMRUNUIHF1YW50aXR5IEZST00gc29ob3JlcHJvX2NoZWNrb3V0X2d1ZXN0IFdIRVJFIHByb2R1Y3RfaWQgPSAnIi4kcHJvZHVjdF9pZC4iJyAgQU5EIGlwID0gJyIuJGlkLiInICI7DQogICAgJHF1YW50aXR5ICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3F0eSk7DQogICAgJG9iamVjdCAgICAgPSBteXNxbF9mZXRjaF9hc3NvYygkcXVhbnRpdHkpOw0KICAgICRxdHkgICAgICAgID0gJG9iamVjdFsncXVhbnRpdHknXTsgDQogICAgcmV0dXJuICRxdHk7DQp9DQoNCg0KZnVuY3Rpb24gRXhpc3RVbml0R3Vlc3QoJHByb2R1Y3RfaWQsJGlkKSB7DQogICAgJHNlbGVjdF9xdHkgPSAiU0VMRUNUIHVuaXRfcHJpY2UgRlJPTSBzb2hvcmVwcm9fY2hlY2tvdXRfZ3Vlc3QgV0hFUkUgcHJvZHVjdF9pZCA9ICciLiRwcm9kdWN0X2lkLiInICBBTkQgaXAgPSAnIi4kaWQuIicgIjsNCiAgICAkcXVhbnRpdHkgICA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcXR5KTsNCiAgICAkb2JqZWN0ICAgICA9IG15c3FsX2ZldGNoX2Fzc29jKCRxdWFudGl0eSk7DQogICAgJHF0eSAgICAgICAgPSAkb2JqZWN0Wyd1bml0X3ByaWNlJ107IA0KICAgIHJldHVybiAkcXR5Ow0KfQ0KDQpmdW5jdGlvbiBFeGlzdFByb2R1Y3RPcmRlcigkcHJvZHVjdF9pZCwkb3JkZXJfaWQpIHsNCiAgICAkc2VsZWN0X29yZGVycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wcm9kdWN0c19vcmRlcl90ZW1wIFdIRVJFIHByb2R1Y3RfaWQgPSAnIi4kcHJvZHVjdF9pZC4iJyAgQU5EIG9yZGVyX2lkID0gJyIuJG9yZGVyX2lkLiInICIgOw0KICAgICRwcmljZSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3Rfb3JkZXJzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcmljZSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQpmdW5jdGlvbiBFeGlzdFByb2R1Y3RPcmRlckd1ZXN0KCRwcm9kdWN0X2lkLCRpcCkgew0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NoZWNrb3V0X2d1ZXN0IFdIRVJFIHByb2R1Y3RfaWQgPSAnIi4kcHJvZHVjdF9pZC4iJyAgQU5EIGlwID0gJyIuJGlwLiInICIgOw0KICAgICRwcmljZSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3Rfb3JkZXJzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcmljZSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQpmdW5jdGlvbiBFeGlzdFByb2RJbkNoZSgkcHJvZHVjdF9pZCwkdXNyX2lkKSB7DQogICAgJHNlbGVjdF9vcmRlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY2hlY2tvdXQgV0hFUkUgcHJvZHVjdF9pZCA9ICciLiRwcm9kdWN0X2lkLiInICBBTkQgdXNlcl9pZCA9ICciLiR1c3JfaWQuIicgIiA7DQogICAgJHByaWNlID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9vcmRlcnMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByaWNlKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBPcmRlckNvbW1lbnQoJG9yZGVyX2lkKSB7DQogICAgJHNlbGVjdF9jb21tdCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19vcmRlcl9tYXN0ZXIgV0hFUkUgaWQgPSAnIi4kb3JkZXJfaWQuIicgIiA7DQogICAgJGNvbW10ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jb21tdCk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY29tbXQpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gT3JkZXJDb21tZW50U2hvcHAoJHVzZXJfaWQpIHsNCiAgICAkc2VsZWN0X2NvbW10ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2N1c3RfY29tbXQgV0hFUkUgY3VzX2lkID0gJyIuJHVzZXJfaWQuIicgIiA7DQogICAgJGNvbW10ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jb21tdCk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY29tbXQpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gQWRkaXRpb25hbFByb2R1Y3QoJG9yZGVyX2lkKSB7DQogICAgJHNlbGVjdF9vcmRlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcHJvZHVjdHNfb3JkZXJfdGVtcCBXSEVSRSBvcmRlcl9pZCA9ICciLiRvcmRlcl9pZC4iJyAiIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X29yZGVycyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJpY2UpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gZ2V0UHJvZHVjdHNGaWx0ZXIoJHN1X2ZpbGVfaWQsJGNfZmlsX2lkLCRzY19maWxfaWQsJHN0YXJ0LCRsaW1pdCkgew0KICAgIGlmKCgkY19maWxfaWQgPT0gJzAnKSAmJiAoJHNjX2ZpbF9pZCA9PSAnMCcpKXsNCiAgICAkc2VsZWN0X3Byb2R1Y3RzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3Byb2R1Y3RzIFdIRVJFIHN1cGVyY2F0ZWdvcnlfaWQgPSAnIi4kc3VfZmlsZV9pZC4iJyBPUkRFUiBCWSBzb3J0IEFTQyBMSU1JVCAkc3RhcnQsICRsaW1pdCAiOyAgDQogICAgfSBlbHNlaWYoKCRzdV9maWxlX2lkICE9ICcwJykgJiYgKCRjX2ZpbF9pZCAhPSAnMCcpICYmICgkc2NfZmlsX2lkID09ICcwJykpIHsNCiAgICAkc2VsZWN0X3Byb2R1Y3RzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3Byb2R1Y3RzIFdIRVJFIHN1cGVyY2F0ZWdvcnlfaWQgPSAnIi4kc3VfZmlsZV9pZC4iJyBBTkQgY2F0ZWdvcnlfaWQgPSAnIi4kY19maWxfaWQuIicgT1JERVIgQlkgc29ydCBBU0MiOw0KICAgIH0gZWxzZSB7DQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wcm9kdWN0cyBXSEVSRSBzdXBlcmNhdGVnb3J5X2lkID0gJyIuJHN1X2ZpbGVfaWQuIicgQU5EIGNhdGVnb3J5X2lkID0gJyIuJGNfZmlsX2lkLiInIEFORCBzdWJjYXRlZ29yeV9pZCA9ICciLiRzY19maWxfaWQuIicgT1JERVIgQlkgc29ydCBBU0MgTElNSVQgJHN0YXJ0LCAkbGltaXQiOyAgICANCiAgICB9ICAgIA0KICAgICRwcm9kdWN0cyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJvZHVjdHMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3RzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXRQcm9kdWN0c0ZpbHRlclMoJHNlYXJjaF92YWwsJHN0YXJ0LCRsaW1pdCkgew0KICAgICR2YWwgPSBteXNxbF9yZWFsX2VzY2FwZV9zdHJpbmcoJHNlYXJjaF92YWwpOw0KICAgICRzZWxlY3RfcHJvZHVjdHMgPSAiU0VMRUNUICogRlJPTSBgc29ob3JlcHJvX3Byb2R1Y3RzYCBXSEVSRSBgcHJvZHVjdF9uYW1lYCBMSUtFICclJHZhbCUnIExJTUlUICRzdGFydCwgJGxpbWl0ICI7DQogICAgJHByb2R1Y3RzID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9wcm9kdWN0cyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJvZHVjdHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIGdldFN1cGVyY2F0RmlsdGVycygkc2VhcmNoX3ZhbCkgew0KICAgICR2YWwgPSBteXNxbF9yZWFsX2VzY2FwZV9zdHJpbmcoJHNlYXJjaF92YWwpOw0KICAgICAkc2VsZWN0X3Byb2R1Y3RzID0gIlNFTEVDVCAqIEZST00gYHNvaG9yZXByb19jYXRlZ29yeWAgV0hFUkUgYGNhdGVnb3J5X25hbWVgIExJS0UgJyUkdmFsJSciOw0KICAgICRwcm9kdWN0cyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJvZHVjdHMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3RzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KZnVuY3Rpb24gZ2V0Y2F0RmlsdGVyKCRpZCkgew0KICAgICR2YWwgPSBteXNxbF9yZWFsX2VzY2FwZV9zdHJpbmcoJHNlYXJjaF92YWwpOw0KICAgICAkc2VsZWN0X3Byb2R1Y3RzID0gIlNFTEVDVCAqIEZST00gYHNvaG9yZXByb19wcm9kdWN0c2AgV0hFUkUgc3VwZXJjYXRlZ29yeV9pZCA9ICciLiRpZC4iJyI7DQogICAgJHByb2R1Y3RzID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9wcm9kdWN0cyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJvZHVjdHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIFNlYXJjaFVzZXJFbmQoJHNlYXJjaF92YWwpIHsNCiAgICAkc3BsaXRfdmFsICAgPSBleHBsb2RlKCIoIiwkc2VhcmNoX3ZhbCk7DQogICAgJHZhbCA9IHRyaW0obXlzcWxfcmVhbF9lc2NhcGVfc3RyaW5nKCRzcGxpdF92YWxbMF0pKTsNCiAgICAkc2VsZWN0X3Byb2R1Y3RzID0gIlNFTEVDVCAqIEZST00gYHNvaG9yZXByb19wcm9kdWN0c2AgV0hFUkUgYHByb2R1Y3RfbmFtZWAgTElLRSAnJSR2YWwlJyAiOw0KICAgICRwcm9kdWN0cyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJvZHVjdHMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3RzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBTZWFyY2hVc2VyRW5kQ2F0KCRzZWFyY2hfdmFsKSB7DQogICAgJHNwbGl0X3ZhbCAgID0gZXhwbG9kZSgiKCIsJHNlYXJjaF92YWwpOw0KICAgICR2YWwgPSB0cmltKG15c3FsX3JlYWxfZXNjYXBlX3N0cmluZygkc3BsaXRfdmFsWzBdKSk7DQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIGBzb2hvcmVwcm9fY2F0ZWdvcnlgIFdIRVJFIGBjYXRlZ29yeV9uYW1lYCBMSUtFICclJHZhbCUnICI7DQogICAgJHByb2R1Y3RzID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9wcm9kdWN0cyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJvZHVjdHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gU2VsZWN0Q2F0SXRlbSgkaWQpIHsNCiAgICAkc2VsZWN0X3Byb2R1Y3RzID0gIlNFTEVDVCAqIEZST00gYHNvaG9yZXByb19wcm9kdWN0c2AgV0hFUkUgKChzdXBlcmNhdGVnb3J5X2lkID0gJyRpZCcpIE9SIChjYXRlZ29yeV9pZCA9ICckaWQnKSBPUiAoc3ViY2F0ZWdvcnlfaWQgPSAnJGlkJykpICI7DQogICAgJHByb2R1Y3RzID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9wcm9kdWN0cyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJvZHVjdHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gQ291bnRGaWx0ZXIoJHN1X2ZpbGVfaWQsJGNfZmlsX2lkLCRzY19maWxfaWQpIHsNCiAgICBpZigoJGNfZmlsX2lkID09ICcwJykgJiYgKCRzY19maWxfaWQgPT0gJzAnKSl7DQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wcm9kdWN0cyBXSEVSRSBzdXBlcmNhdGVnb3J5X2lkID0gJyIuJHN1X2ZpbGVfaWQuIicgIjsgIA0KICAgIH0gZWxzZSB7DQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wcm9kdWN0cyBXSEVSRSBzdXBlcmNhdGVnb3J5X2lkID0gJyIuJHN1X2ZpbGVfaWQuIicgQU5EIGNhdGVnb3J5X2lkID0gJyIuJGNfZmlsX2lkLiInIEFORCBzdWJjYXRlZ29yeV9pZCA9ICciLiRzY19maWxfaWQuIicgIjsNCiAgICB9ICAgIA0KICAgICRwcm9kdWN0cyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJvZHVjdHMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3RzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBDb3VudFNlYXJjaCgkc2VhcmNoX3ZhbCkgew0KICAgICRzZWxlY3RfcHJvZHVjdHMgPSAiU0VMRUNUICogRlJPTSBgc29ob3JlcHJvX3Byb2R1Y3RzYCBXSEVSRSBgcHJvZHVjdF9uYW1lYCBMSUtFICclJHNlYXJjaF92YWwlJyAiOw0KICAgICRwcm9kdWN0cyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJvZHVjdHMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3RzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQoNCmZ1bmN0aW9uIGdldFF0eSgkaWQsJG9yZF9pZCkgew0KICAgICRzZWxlY3RfY2F0ZWdvcnkgPSAiU0VMRUNUIHByb2R1Y3RfcXVhbnRpdHkgRlJPTSBzb2hvcmVwcm9fcHJvZHVjdF9tYXN0ZXIgV0hFUkUgcHJvZHVjdF9pZCA9ICciLiRpZC4iJyBBTkQgb3JkZXJfaWQgPSAnIi4kb3JkX2lkLiInIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNhdGVnb3J5KTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ3Byb2R1Y3RfcXVhbnRpdHknXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBnZXRwaWQoJGlkLCRvcmRfaWQpIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCBwcm9kdWN0X2lkIEZST00gc29ob3JlcHJvX3Byb2R1Y3RfbWFzdGVyIFdIRVJFIHByb2R1Y3RfaWQgPSAnIi4kaWQuIicgQU5EIG9yZGVyX2lkID0gJyIuJG9yZF9pZC4iJyI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSk7DQogICAgJGNhdGcgPSAkb2JqZWN0Wydwcm9kdWN0X2lkJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KDQpmdW5jdGlvbiBnZXRQcmljZUUoJGlkLCRvcmRfaWQpIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCBwcm9kdWN0X3ByaWNlIEZST00gc29ob3JlcHJvX3Byb2R1Y3RfbWFzdGVyIFdIRVJFIHByb2R1Y3RfaWQgPSAnIi4kaWQuIicgQU5EIG9yZGVyX2lkID0gJyIuJG9yZF9pZC4iJyI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSk7DQogICAgJGNhdGcgPSAkb2JqZWN0Wydwcm9kdWN0X3ByaWNlJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gZ2V0RW1haWwoKSB7DQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19lbWFpbCI7DQogICAgJHByb2R1Y3RzID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9wcm9kdWN0cyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJvZHVjdHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIGdldEVtYWlsYWN0aXZlKCkgew0KICAgICRzZWxlY3RfcHJvZHVjdHMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fZW1haWwgV0hFUkUgc3RhdHVzID0gJzEnIjsNCiAgICAkcHJvZHVjdHMgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3Byb2R1Y3RzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcm9kdWN0cykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gTmV3VXNlckxpc3QoKSB7DQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jb21wYW55IFdIRVJFIHN0YXR1cyA9ICcwJyBBTkQgYXJjaGl2ZSA9ICcwJyBPUkRFUiBCWSBjb21wX2lkIERFU0MiOw0KICAgICRwcm9kdWN0cyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJvZHVjdHMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3RzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBOZXdVc2VyTGlzdEFyY2hpdmUoKSB7DQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jb21wYW55IFdIRVJFIHN0YXR1cyA9ICcwJyBBTkQgYXJjaGl2ZSA9ICcxJyBPUkRFUiBCWSBjb21wX2lkIERFU0MiOw0KICAgICRwcm9kdWN0cyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJvZHVjdHMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3RzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXRBY3RpdmVFbWFpbCgpIHsNCiAgICAkc2VsZWN0X3Byb2R1Y3RzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2VtYWlsIFdIRVJFIHN0YXR1cyA9ICcxJyBBTkQgYWNjb3VudHMgPSAnMSciOw0KICAgICRwcm9kdWN0cyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJvZHVjdHMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3RzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXRBY3RpdmVFbWFpbE9yZGVyKCkgew0KICAgICRzZWxlY3RfcHJvZHVjdHMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fZW1haWwgV0hFUkUgc3RhdHVzID0gJzEnIEFORCBvcmRlcnMgPSAnMSciOw0KICAgICRwcm9kdWN0cyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJvZHVjdHMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3RzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXRBY3RpdmVFbWFpbEhlbHAoKSB7DQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19lbWFpbCBXSEVSRSBzdGF0dXMgPSAnMScgQU5EIGhlbHAgPSAnMSciOw0KICAgICRwcm9kdWN0cyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJvZHVjdHMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3RzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBlZGl0RW1haWwoJGlkKSB7DQogICAgJHNlbGVjdF9lbWFpbCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19lbWFpbCBXSEVSRSBpZCA9ICciLiRpZC4iJyI7DQogICAgJG1haWwgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2VtYWlsKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRtYWlsKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBVc2VyTWFpbCgkaWQpIHsNCiAgICAkc2VsZWN0X2VtYWlsID0gIlNFTEVDVCBjdXNfZW1haWwgRlJPTSBzb2hvcmVwcm9fY3VzdG9tZXJzIFdIRVJFIGN1c19pZCA9ICciLiRpZC4iJyI7DQogICAgJG1haWwgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2VtYWlsKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJG1haWwpOw0KICAgICRjYXRnID0gJG9iamVjdFsnY3VzX2VtYWlsJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gVXNlck5hbWUoJGlkKSB7DQogICAgJHNlbGVjdF9lbWFpbCA9ICJTRUxFQ1QgY3VzX2NvbnRhY3RfbmFtZSBGUk9NIHNvaG9yZXByb19jdXN0b21lcnMgV0hFUkUgY3VzX2lkID0gJyIuJGlkLiInIjsNCiAgICAkbWFpbCA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfZW1haWwpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkbWFpbCk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydjdXNfY29udGFjdF9uYW1lJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gZ2V0c3VwZXJQcm9kdWN0cygkY19pZCwkaWQpIHsNCiAgICAkc2VsZWN0X3Byb2R1Y3RzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3Byb2R1Y3RzIFdIRVJFIHN1cGVyY2F0ZWdvcnlfaWQgPSAnIi4kY19pZC4iJyBBTkQgKGNhdGVnb3J5X2lkID0gJycgT1IgY2F0ZWdvcnlfaWQgPSAnMCcpIEFORCAoc3ViY2F0ZWdvcnlfaWQgPSAnJyBPUiBzdWJjYXRlZ29yeV9pZCA9ICcwJykgQU5EIGlkIDw+ICciLiRpZC4iJyBPUkRFUiBCWSBzb3J0IEFTQyIgOw0KICAgICRwcm9kdWN0cyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJvZHVjdHMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3RzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXRzdXBlcl9zdWJjYXRQcm9kdWN0cygkY19pZCwkc19pZCkgew0KICAgICRzZWxlY3RfcHJvZHVjdHMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcHJvZHVjdHMgV0hFUkUgc3VwZXJjYXRlZ29yeV9pZCA9ICciLiRjX2lkLiInIEFORCBjYXRlZ29yeV9pZCA9ICciLiRzX2lkLiInIEFORCAoc3ViY2F0ZWdvcnlfaWQgPSAnJyBPUiBzdWJjYXRlZ29yeV9pZCA9ICcwJykgT1JERVIgQlkgc29ydCBBU0MiIDsNCiAgICAkcHJvZHVjdHMgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3Byb2R1Y3RzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcm9kdWN0cykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQpmdW5jdGlvbiBnZXR1c2Vyc19saXN0KCRzb3J0aW5nKSB7ICAgIA0KICAgIGlmKCRzb3J0aW5nID09ICdwbmEnKXsNCiAgICAkc2VsZWN0X3VzZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgc3RhdHVzID0gJzEnIEFORCBhcmNoaXZlID0gJzAnIE9SREVSIEJZIGNvbXBfbmFtZSBBU0MiOyAgDQogICAgfWVsc2VpZiAoJHNvcnRpbmcgPT0gJ3BuZCcpIHsNCiAgICAkc2VsZWN0X3VzZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgc3RhdHVzID0gJzEnIEFORCBhcmNoaXZlID0gJzAnIE9SREVSIEJZIGNvbXBfbmFtZSBERVNDIjsgICAgICANCiAgICB9ZWxzZWlmICgkc29ydGluZyA9PSAncGVhJykgew0KICAgICRzZWxlY3RfdXNlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY29tcGFueSBXSEVSRSBzdGF0dXMgPSAnMScgQU5EIGFyY2hpdmUgPSAnMCcgT1JERVIgQlkgY29tcF9uYW1lIEFTQyI7ICAgICAgDQogICAgfWVsc2VpZiAoJHNvcnRpbmcgPT0gJ3BlZCcpIHsNCiAgICAkc2VsZWN0X3VzZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgc3RhdHVzID0gJzEnIEFORCBhcmNoaXZlID0gJzAnIE9SREVSIEJZIGNvbXBfbmFtZSBERVNDIjsgICAgICANCiAgICB9ZWxzZWlmICgkc29ydGluZyA9PSAncGRhJykgew0KICAgICRzZWxlY3RfdXNlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY29tcGFueSBXSEVSRSBzdGF0dXMgPSAnMScgQU5EIGFyY2hpdmUgPSAnMCcgT1JERVIgQlkgY29tcF9uYW1lIEFTQyI7ICAgICAgDQogICAgfWVsc2VpZiAoJHNvcnRpbmcgPT0gJ3BkZCcpIHsNCiAgICAkc2VsZWN0X3VzZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgc3RhdHVzID0gJzEnIEFORCBhcmNoaXZlID0gJzAnIE9SREVSIEJZIGNvbXBfbmFtZSBERVNDIjsgICAgICANCiAgICB9ICBlbHNlIHsNCiAgICAkc2VsZWN0X3VzZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgc3RhdHVzID0gJzEnIEFORCBhcmNoaXZlID0gJzAnIE9SREVSIEJZIGNvbXBfaWQgQVNDIjsgICANCiAgICB9ICANCiAgICAkdXNlcnNfbGlzdCA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfdXNlcnMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHVzZXJzX2xpc3QpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gZ2V0dXNlcnNfbGlzdF90ZW1wKCRzb3J0aW5nLCRzdGFydCwkbGltaXQpIHsgICAgDQogICAgaWYoJHNvcnRpbmcgPT0gJ3BuYScpew0KICAgICRzZWxlY3RfdXNlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY29tcGFueSBXSEVSRSBhcmNoaXZlID0gJzAnIE9SREVSIEJZIGNvbXBfbmFtZSBBU0MgTElNSVQgJHN0YXJ0LCAkbGltaXQiOyAgDQogICAgfWVsc2VpZiAoJHNvcnRpbmcgPT0gJ3BuZCcpIHsNCiAgICAkc2VsZWN0X3VzZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgYXJjaGl2ZSA9ICcwJyBPUkRFUiBCWSBjb21wX25hbWUgREVTQyBMSU1JVCAkc3RhcnQsICRsaW1pdCI7ICAgICAgDQogICAgfWVsc2VpZiAoJHNvcnRpbmcgPT0gJ3BlYScpIHsNCiAgICAkc2VsZWN0X3VzZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgYXJjaGl2ZSA9ICcwJyBPUkRFUiBCWSBjb21wX25hbWUgQVNDIExJTUlUICRzdGFydCwgJGxpbWl0IjsgICAgICANCiAgICB9ZWxzZWlmICgkc29ydGluZyA9PSAncGVkJykgew0KICAgICRzZWxlY3RfdXNlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY29tcGFueSBXSEVSRSBhcmNoaXZlID0gJzAnIE9SREVSIEJZIGNvbXBfbmFtZSBERVNDIExJTUlUICRzdGFydCwgJGxpbWl0IjsgICAgICANCiAgICB9ZWxzZWlmICgkc29ydGluZyA9PSAncGRhJykgew0KICAgICRzZWxlY3RfdXNlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY29tcGFueSBXSEVSRSBhcmNoaXZlID0gJzAnIE9SREVSIEJZIGNvbXBfbmFtZSBBU0MgTElNSVQgJHN0YXJ0LCAkbGltaXQiOyAgICAgIA0KICAgIH1lbHNlaWYgKCRzb3J0aW5nID09ICdwZGQnKSB7DQogICAgJHNlbGVjdF91c2VycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jb21wYW55IFdIRVJFIGFyY2hpdmUgPSAnMCcgT1JERVIgQlkgY29tcF9uYW1lIERFU0MgTElNSVQgJHN0YXJ0LCAkbGltaXQiOyAgICAgIA0KICAgIH0gIGVsc2Ugew0KICAgICRzZWxlY3RfdXNlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY29tcGFueSBXSEVSRSBhcmNoaXZlID0gJzAnIE9SREVSIEJZIGNvbXBfaWQgQVNDIExJTUlUICRzdGFydCwgJGxpbWl0IjsgICANCiAgICB9ICANCiAgICAkdXNlcnNfbGlzdCA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfdXNlcnMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHVzZXJzX2xpc3QpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gRmlsdGVyQnlDdXN0b21lcigkZmlsdGVyX2J5LCAkYWRtaW5fYWRkZWQsICRzdGFydCwgJGxpbWl0KSB7DQogICAgaWYoJGFkbWluX2FkZGVkICE9ICcnKXsNCiAgICAkc2VsZWN0X3VzZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgYXJjaGl2ZSA9ICcwJyBBTkQgY3VzX3R5cGUgSU4oJGZpbHRlcl9ieSwgJGFkbWluX2FkZGVkKSBPUkRFUiBCWSBjb21wX2lkIEFTQyBMSU1JVCAkc3RhcnQsICRsaW1pdCI7DQogICAgfWVsc2V7DQogICAgJHNlbGVjdF91c2VycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jb21wYW55IFdIRVJFIGFyY2hpdmUgPSAnMCcgQU5EIGN1c190eXBlID0gJyIuJGZpbHRlcl9ieS4iJyBPUkRFUiBCWSBjb21wX2lkIEFTQyBMSU1JVCAkc3RhcnQsICRsaW1pdCI7DQogICAgfQ0KICAgICR1c2Vyc19saXN0ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF91c2Vycyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkdXNlcnNfbGlzdCkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gRmlsdGVyQnlDdXN0b21lckNvdW50KCRmaWx0ZXJfYnkpIHsgICAgDQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jb21wYW55IFdIRVJFIGFyY2hpdmUgPSAnMCcgQU5EIGN1c190eXBlID0gJyIuJGZpbHRlcl9ieS4iJyI7IA0KICAgICRwcm9kdWN0cyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJvZHVjdHMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3RzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQoNCmZ1bmN0aW9uIEdldF91c2Vyc19hZGQoJHNlYXJjaF92YWwpIHsgICAgICAgDQogICAgJHNlbGVjdF91c2VycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jb21wYW55IFdIRVJFIGFyY2hpdmUgPSAnMCcgQU5EIGNvbXBfaWQgPSAnIi4kc2VhcmNoX3ZhbC4iJyBPUkRFUiBCWSBjb21wX25hbWUgREVTQyI7ICAgICAgICAgDQogICAgJHVzZXJzX2xpc3QgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3VzZXJzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCR1c2Vyc19saXN0KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXR1c2Vyc19saXN0X3NlYXJjaF91c2VyX0FyY2hpdmUoJHNlYXJjaF92YWwpIHsgICAgICAgDQogICAgJHNlbGVjdF91c2VycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jb21wYW55IFdIRVJFIGFyY2hpdmUgPSAnMScgQU5EICgoY29tcF9uYW1lIGxpa2UgJyUkc2VhcmNoX3ZhbCUnKSBPUiAoY29tcF9jb250YWN0X2VtYWlsIGxpa2UgJyUkc2VhcmNoX3ZhbCUnKSkgT1JERVIgQlkgY29tcF9uYW1lIERFU0MiOyAgICAgICAgIA0KICAgICR1c2Vyc19saXN0ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF91c2Vycyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkdXNlcnNfbGlzdCkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gZ2V0dXNlcnNfbGlzdF9zZWFyY2hfdXNlcigkc29ydGluZywkc3RhcnQsJGxpbWl0LCRzZWFyY2hfdmFsKSB7ICAgIA0KICAgICRzZWFyY2hfdmFsdWVzID0gbXlzcWxfZXNjYXBlX3N0cmluZygkc2VhcmNoX3ZhbCk7DQogICAgJHNlbGVjdF91c2VycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jb21wYW55IFdIRVJFIGFyY2hpdmUgPSAnMCcgQU5EICgoY29tcF9uYW1lIGxpa2UgJyUkc2VhcmNoX3ZhbHVlcyUnKSBPUiAoY29tcF9jb250YWN0X2VtYWlsIGxpa2UgJyUkc2VhcmNoX3ZhbHVlcyUnKSkgT1JERVIgQlkgY29tcF9uYW1lIERFU0MgTElNSVQgJHN0YXJ0LCAkbGltaXQiOyAgICAgICAgIA0KICAgICR1c2Vyc19saXN0ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF91c2Vycyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkdXNlcnNfbGlzdCkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gZ2V0dXNlcnNfbGlzdF9zZWFyY2hfdXNlcl9OZXdBY2MoJHNlYXJjaF92YWwpIHsgICAgICAgDQogICAgJHNlbGVjdF91c2VycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jb21wYW55IFdIRVJFIHN0YXR1cyA9ICcwJyBBTkQgYXJjaGl2ZSA9ICcwJyBBTkQgKChjb21wX25hbWUgbGlrZSAnJSRzZWFyY2hfdmFsJScpIE9SIChjb21wX2NvbnRhY3RfZW1haWwgbGlrZSAnJSRzZWFyY2hfdmFsJScpKSBPUkRFUiBCWSBjb21wX25hbWUgREVTQyI7ICAgICAgICAgDQogICAgJHVzZXJzX2xpc3QgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3VzZXJzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCR1c2Vyc19saXN0KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXR1c2Vyc19saXN0X3NlYXJjaF91c2VyX2N1cygkc29ydGluZywkc3RhcnQsJGxpbWl0LCRzZWFyY2hfdmFsKSB7ICAgICAgIA0KICAgICRzZWxlY3RfdXNlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY29tcGFueSBXSEVSRSBhcmNoaXZlID0gJzAnIEFORCAoY29tcF9uYW1lIGxpa2UgJyUkc2VhcmNoX3ZhbCUnKSBPUkRFUiBCWSBjb21wX25hbWUgREVTQyBMSU1JVCAkc3RhcnQsICRsaW1pdCI7ICAgICAgICAgDQogICAgJHVzZXJzX2xpc3QgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3VzZXJzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCR1c2Vyc19saXN0KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXR1c2Vyc19saXN0X3NlYXJjaF91c2VyX2N1c19hcmNoaXZlKCRzZWFyY2hfdmFsKSB7ICAgICAgIA0KICAgICRzZWxlY3RfdXNlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY29tcGFueSBXSEVSRSBhcmNoaXZlID0gJzEnIEFORCAoY29tcF9uYW1lIGxpa2UgJyUkc2VhcmNoX3ZhbCUnKSBPUkRFUiBCWSBjb21wX25hbWUgREVTQyI7ICAgICAgICAgDQogICAgJHVzZXJzX2xpc3QgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3VzZXJzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCR1c2Vyc19saXN0KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXR1c2Vyc19saXN0X3NlYXJjaF91c2VyX2N1c19OZXdBY2NvdW50KCRzZWFyY2hfdmFsKSB7ICAgICAgIA0KICAgICRzZWxlY3RfdXNlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY29tcGFueSBXSEVSRSBhcmNoaXZlID0gJzAnIEFORCBzdGF0dXMgPSAnMCcgQU5EIChjb21wX25hbWUgbGlrZSAnJSRzZWFyY2hfdmFsJScpIE9SREVSIEJZIGNvbXBfbmFtZSBERVNDIjsgICAgICAgICANCiAgICAkdXNlcnNfbGlzdCA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfdXNlcnMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHVzZXJzX2xpc3QpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIGdldENvbXBJZCgkaWQpIHsNCiAgICAkc2VsZWN0X2NvbXBhbnkgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY3VzdG9tZXJzIFdIRVJFIGN1c19lbWFpbCA9ICciLiRpZC4iJyI7DQogICAgJGNvbXBhbnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NvbXBhbnkpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNvbXBhbnkpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIGdldENvbXBOYW1lKCRpZCkgew0KICAgICRzZWxlY3RfY29tcGFueSA9ICJTRUxFQ1QgY29tcF9uYW1lIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgY29tcF9pZCA9ICciLiRpZC4iJyI7DQogICAgJGNvbXBhbnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NvbXBhbnkpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY29tcGFueSk7DQogICAgJGNhdGcgPSAkb2JqZWN0Wydjb21wX25hbWUnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBnZXRDb21wTmFtZVN0YXR1cygkaWQpew0KICAgICRzZWxlY3RfY29tcGFueSA9ICJTRUxFQ1QgY29tcF9uYW1lIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgY29tcF9pZCA9ICciLiRpZC4iJyAiOw0KICAgICRjb21wYW55ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jb21wYW55KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNvbXBhbnkpOw0KICAgICRjYXRnID0gJG9iamVjdFsnY29tcF9uYW1lJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gZ2V0Q29tcE5hbWVTdGF0dXNBcmNoaXZlKCRpZCl7DQogICAgJHNlbGVjdF9jb21wYW55ID0gIlNFTEVDVCBjb21wX25hbWUgRlJPTSBzb2hvcmVwcm9fY29tcGFueSBXSEVSRSBjb21wX2lkID0gJyIuJGlkLiInIEFORCBhcmNoaXZlID0gJzEnICI7DQogICAgJGNvbXBhbnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NvbXBhbnkpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY29tcGFueSk7DQogICAgJGNhdGcgPSAkb2JqZWN0Wydjb21wX25hbWUnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBnZXRDb21wTmFtZVN0YXR1c05ld0FjY291bnQoJGlkKXsNCiAgICAkc2VsZWN0X2NvbXBhbnkgPSAiU0VMRUNUIGNvbXBfbmFtZSBGUk9NIHNvaG9yZXByb19jb21wYW55IFdIRVJFIGNvbXBfaWQgPSAnIi4kaWQuIicgQU5EIGFyY2hpdmUgPSAnMCciOw0KICAgICRjb21wYW55ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jb21wYW55KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNvbXBhbnkpOw0KICAgICRjYXRnID0gJG9iamVjdFsnY29tcF9uYW1lJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gZ2V0Q29tcE5hbWVTdGF0dXNJRCgkaWQpew0KICAgICRzZWxlY3RfY29tcGFueSA9ICJTRUxFQ1QgY29tcF9pZCBGUk9NIHNvaG9yZXByb19jb21wYW55IFdIRVJFIGNvbXBfaWQgPSAnIi4kaWQuIicgQU5EIHN0YXR1cyA9ICcxJyAiOw0KICAgICRjb21wYW55ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jb21wYW55KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNvbXBhbnkpOw0KICAgICRjYXRnID0gJG9iamVjdFsnY29tcF9pZCddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIEN1c3RvbWVyc0NvdW50KCkgeyAgICANCiAgICAkc2VsZWN0X3Byb2R1Y3RzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgYXJjaGl2ZSA9ICcwJyI7IA0KICAgICRwcm9kdWN0cyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJvZHVjdHMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3RzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQoNCmZ1bmN0aW9uIEN1c3RvbWVySW5mbygpIHsNCiAgICAkc2VsZWN0X3VzZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgc3RhdHVzID0gJzEnIEFORCBhcmNoaXZlID0gJzAnIE9SREVSIEJZIGNvbXBfaWQgQVNDIjsNCiAgICAkdXNlcnNfZGV0YWlscyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfdXNlcnMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHVzZXJzX2RldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIGVkaXR1c2VyKCRpZCkgew0KICAgICRzZWxlY3RfdXNlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY3VzdG9tZXJzIFdIRVJFIGN1c19pZCA9ICciLiRpZC4iJyI7DQogICAgJHVzZXJzX2RldGFpbHMgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3VzZXJzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCR1c2Vyc19kZXRhaWxzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXRfc3BlY2lhbF9wcmljZSgkaWQpIHsNCiAgICAkc2VsZWN0X3ByaWNlID0gIlNFTEVDVCBzcF9pZCxzcF9wcm9kdWN0X2lkLHNwX3NwZWNpYWxfcHJpY2Usc3BfbGlzdF9wcmljZSxzcF9kaXNjb3VudCBGUk9NIHNvaG9yZXByb19zcGVjaWFsX3ByaWNpbmcgV0hFUkUgc3BfdXNlcl9pZCA9ICciLiRpZC4iJyI7DQogICAgJHByaWNlX2RldGFpbHMgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3ByaWNlKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcmljZV9kZXRhaWxzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXRfY2hlY2tlZF9pdGVtKCRpZCkgew0KICAgICRzZWxlY3RfcHJpY2UgPSAiU0VMRUNUIChxdWFudGl0eSAqIHVuaXRfcHJpY2UpIGFzIHN1Yl90b3RhbCxwcm9kdWN0X2lkLHF1YW50aXR5IEZST00gc29ob3JlcHJvX2NoZWNrb3V0IFdIRVJFIHVzZXJfaWQgPSAnIi4kaWQuIiciOw0KICAgICRwcmljZV9kZXRhaWxzID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9wcmljZSk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJpY2VfZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gZ2V0X2Zhdl9pdGVtKCRjb21wX2lkKSB7DQogICAgJHNlbGVjdF9wcmljZSA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19mYXZvcml0ZXMgV0hFUkUgY29tcF9pZCA9ICciLiRjb21wX2lkLiInIjsNCiAgICAkcHJpY2VfZGV0YWlscyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJpY2UpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByaWNlX2RldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIENIRUNLRkFWRVhJWFQoJGNvbXBfaWQsICRwcm9kX2lkKXsNCiAgICAkc2VsZWN0X3ByaWNlID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2Zhdm9yaXRlcyBXSEVSRSBjb21wX2lkID0gJyIuJGNvbXBfaWQuIicgQU5EIHByb2R1Y3RfaWQgPSAnIi4kcHJvZF9pZC4iJyI7DQogICAgJHByaWNlX2RldGFpbHMgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3ByaWNlKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcmljZV9kZXRhaWxzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBDaGVja2VkT3JkZXJQcm9kdWN0KCRvcmRlcl9pZCkgew0KICAgICRzZWxlY3RfcHJpY2UgPSAiU0VMRUNUIHByb2R1Y3RfaWQscHJvZHVjdF9xdWFudGl0eSBGUk9NIHNvaG9yZXByb19wcm9kdWN0c19vcmRlcl90ZW1wIFdIRVJFIG9yZGVyX2lkID0gJyIuJG9yZGVyX2lkLiInIjsNCiAgICAkcHJpY2VfZGV0YWlscyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJpY2UpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByaWNlX2RldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIGN1c3RvbWVyUHJvZHVjdHMoJGlkKSB7DQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19zcGVjaWFsX3ByaWNpbmcgV0hFUkUgc3BfdXNlcl9pZCA9ICciLiRpZC4iJyIgOw0KICAgICRwcm9kdWN0cyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJvZHVjdHMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3RzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXRQcm9kdWN0SWQoJGlkKSB7DQogICAgJHNlbGVjdF9lbWFpbCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19zcGVjaWFsX3ByaWNpbmcgV0hFUkUgc3BfdXNlcl9pZCA9ICciLiRpZC4iJyI7DQogICAgJG1haWwgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2VtYWlsKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRtYWlsKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBHZXRTcGxQcmljZVByb2R1Y3QoJGlkLCAkY29tcF9pZCkgew0KICAgICRzZWxlY3RfY29tcGFueSA9ICJTRUxFQ1Qgc3Bfc3BlY2lhbF9wcmljZSBGUk9NIHNvaG9yZXByb19zcGVjaWFsX3ByaWNpbmcgV0hFUkUgc3BfcHJvZHVjdF9pZCA9ICciLiRpZC4iJyBBTkQgc3BfdXNlcl9pZCA9ICciLiRjb21wX2lkLiInICI7DQogICAgJGNvbXBhbnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NvbXBhbnkpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY29tcGFueSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydzcF9zcGVjaWFsX3ByaWNlJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gY2hlY2tTcGVjaWFsKCR1c2VyX2lkLCRpZCkgew0KICAgICRzZWxlY3RfY2hlY2sgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fc3BlY2lhbF9wcmljaW5nIFdIRVJFIHNwX3VzZXJfaWQgPSAnIi4kdXNlcl9pZC4iJyBBTkQgc3BfcHJvZHVjdF9pZCA9ICciLiRpZC4iJyI7DQogICAgJGNoZWNrID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jaGVjayk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2hlY2spKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIGdldE9yZGVyUmVwb3J0KCRzdGFydCwkbGltaXQpIHsNCiAgICAkc2VsZWN0X29yZGVycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wcm9kdWN0cyBPUkRFUiBCWSBpZCBERVNDIExJTUlUICRzdGFydCwgJGxpbWl0IjsgICAgICAgIA0KICAgICRvcmRlcnMgPSBteXNxbF9xdWVyeSgkc2VsZWN0X29yZGVycyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkb3JkZXJzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIGNvbXBhbnlOYW1lKCRpZCkgew0KICAgICRzZWxlY3RfY29tcGFueSA9ICJTRUxFQ1QgY29tcF9uYW1lIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgY29tcF9pZCA9ICciLiRpZC4iJyI7DQogICAgJGNvbXBhbnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NvbXBhbnkpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY29tcGFueSk7DQogICAgJGNhdGcgPSAkb2JqZWN0Wydjb21wX25hbWUnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBDb21wYW55TWFpbCgkaWQpIHsNCiAgICAkc2VsZWN0X2NvbXBhbnkgPSAiU0VMRUNUIGNvbXBfY29udGFjdF9lbWFpbCBGUk9NIHNvaG9yZXByb19jb21wYW55IFdIRVJFIGNvbXBfaWQgPSAnIi4kaWQuIiciOw0KICAgICRjb21wYW55ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jb21wYW55KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNvbXBhbnkpOw0KICAgICRjYXRnID0gJG9iamVjdFsnY29tcF9jb250YWN0X2VtYWlsJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gVGF4VmFsdWUoKSB7DQogICAgJHNlbGVjdF9jb21wYW55ID0gIlNFTEVDVCB0YXhfcmF0ZSBGUk9NIHNvaG9yZXByb190YXhfcmF0ZSI7DQogICAgJGNvbXBhbnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NvbXBhbnkpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY29tcGFueSk7DQogICAgJGNhdGcgPSAkb2JqZWN0Wyd0YXhfcmF0ZSddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCg0KZnVuY3Rpb24gY29tcGFueXBob25lKCRpZCkgew0KICAgICRzZWxlY3RfY29tcGFueSA9ICJTRUxFQ1QgY29tcF9jb250YWN0X3Bob25lIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgY29tcF9pZCA9ICciLiRpZC4iJyI7DQogICAgJGNvbXBhbnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NvbXBhbnkpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY29tcGFueSk7DQogICAgJGNhdGcgPSAkb2JqZWN0Wydjb21wX2NvbnRhY3RfcGhvbmUnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBDb21wYW55UGhvbmVOdW1iZXIoJGlkKSB7DQogICAgJHNlbGVjdF9jb21wYW55ID0gIlNFTEVDVCBjdXNfY29udGFjdF9waG9uZSBGUk9NIHNvaG9yZXByb19jdXN0b21lcnMgV0hFUkUgY3VzX2NvbnRhY3RfZW1haWwgPSAnIi4kaWQuIiciOw0KICAgICRjb21wYW55ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jb21wYW55KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNvbXBhbnkpOw0KICAgICRjYXRnID0gJG9iamVjdFsnY3VzX2NvbnRhY3RfcGhvbmUnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBHZXRfaWQoJGlkKSB7DQogICAgJHNlbGVjdF9jb21wYW55ID0gIlNFTEVDVCBpZCBGUk9NIHNvaG9yZXByb19wcm9kdWN0cyBXSEVSRSBjYXRlZ29yeV9pZCA9ICciLiRpZC4iJyI7DQogICAgJG9yZGVycyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfY29tcGFueSk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkb3JkZXJzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KDQpmdW5jdGlvbiBjdXN0b21lck5hbWUoJGlkKSB7DQogICAgJHNlbGVjdF9vcmRlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY3VzdG9tZXJzIFdIRVJFIGN1c19pZCA9ICciLiRpZC4iJyI7ICAgICAgICANCiAgICAkb3JkZXJzID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9vcmRlcnMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJG9yZGVycykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICByZXR1cm4gJHZhbHVlOw0KfQ0KDQoNCmZ1bmN0aW9uIEN1c0luaXQoJGlkKSB7DQogICAgJHNlbGVjdF9vcmRlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fdXNlcnMgV0hFUkUgaWQgPSAnIi4kaWQuIiciOyAgICAgICAgDQogICAgJG9yZGVycyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3Rfb3JkZXJzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRvcmRlcnMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQpmdW5jdGlvbiBnZXRTcGVjaWFsUHJvZHVjdCgkaWQpIHsNCiAgICAkc2VsZWN0X2NoZWNrID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3NwZWNpYWxfcHJpY2luZyBXSEVSRSBzcF91c2VyX2lkID0gJyIuJGlkLiInICI7DQogICAgLy8kc2VsZWN0X2NoZWNrID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3NwZWNpYWxfcHJpY2luZyI7DQogICAgJGNoZWNrID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jaGVjayk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2hlY2spKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIGdldF9zcGxfcHJvZCgpIHsNCiAgICAkc2VsZWN0X2NoZWNrID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3NwZWNpYWxfcHJpY2luZ19leGNlbCAiOw0KICAgIC8vJHNlbGVjdF9jaGVjayA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19zcGVjaWFsX3ByaWNpbmciOw0KICAgICRjaGVjayA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfY2hlY2spOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNoZWNrKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBnZXRfc3BsX3Byb2RfdGVzdCgpIHsNCiAgICAkc2VsZWN0X2NoZWNrID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3NwZWNpYWxfcHJpY2luZyBXSEVSRSBzcF91c2VyX2lkID0gJzEnICI7DQogICAgLy8kc2VsZWN0X2NoZWNrID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3NwZWNpYWxfcHJpY2luZyI7DQogICAgJGNoZWNrID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jaGVjayk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2hlY2spKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIGNoZWNrSUQoJGlkKSB7DQogICAgJHNlbGVjdF9jaGVjayA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19zcGVjaWFsX3ByaWNpbmdfZXhjZWwgV0hFUkUgc3BfcHJvZHVjdF9pZCA9ICciLiRpZC4iJyAiOw0KICAgIC8vJHNlbGVjdF9jaGVjayA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19zcGVjaWFsX3ByaWNpbmciOw0KICAgICRjaGVjayA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfY2hlY2spOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNoZWNrKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiB0ZW1wUHJvZCgpIHsNCiAgICAkc2VsZWN0X2NoZWNrID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3Byb2R1Y3RzICI7DQogICAgLy8kc2VsZWN0X2NoZWNrID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3NwZWNpYWxfcHJpY2luZyI7DQogICAgJGNoZWNrID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jaGVjayk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2hlY2spKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIGNoZWNrQWRtaW4oJGlkKSB7DQogICAgJHNlbGVjdF9jaGVjayA9ICJTRUxFQ1QgY3VzX21hbmFnZXIgRlJPTSBzb2hvcmVwcm9fY3VzdG9tZXJzIFdIRVJFIGN1c19jb21wbmFtZSA9ICciLiRpZC4iJyBBTkQgY3VzX21hbmFnZXIgPSAnMScgIjsgICANCiAgICAkY2hlY2sgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NoZWNrKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNoZWNrKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ2N1c19tYW5hZ2VyJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gQ2hlY2tNYW5hZ2VyKCRpZCkgew0KICAgICRzZWxlY3RfY2hlY2sgPSAiU0VMRUNUIGN1c19tYW5hZ2VyIEZST00gc29ob3JlcHJvX2N1c3RvbWVycyBXSEVSRSBjdXNfaWQgPSAnIi4kaWQuIicgIjsgICANCiAgICAkY2hlY2sgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NoZWNrKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNoZWNrKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ2N1c19tYW5hZ2VyJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KLy9NYWlsIElkJ3MgRm9yIENvbXBhbnkNCmZ1bmN0aW9uIENvbXBhbnlNZW1iZXIoJGlkKSB7DQogICAgJHNlbGVjdF9jaGVjayA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jdXN0b21lcnMgV0hFUkUgY3VzX2NvbXBuYW1lID0gJyIuJGlkLiInICI7ICAgDQogICAgJGNoZWNrID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jaGVjayk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2hlY2spKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIEJ1c3N1bmVzMSgkaWQpIHsNCiAgICAkc2VsZWN0X2NoZWNrID0gIlNFTEVDVCBjdXNfYmlsbF9hZGRyZXNzMSBGUk9NIHNvaG9yZXByb19jdXN0b21lcnMgV0hFUkUgY3VzX2NvbXBuYW1lID0gJyIuJGlkLiInIjsgICANCiAgICAkY2hlY2sgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NoZWNrKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNoZWNrKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ2N1c19iaWxsX2FkZHJlc3MxJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gQnVzc3VuZXMyKCRpZCkgew0KICAgICRzZWxlY3RfY2hlY2sgPSAiU0VMRUNUIGN1c19iaWxsX2FkZHJlc3MyIEZST00gc29ob3JlcHJvX2N1c3RvbWVycyBXSEVSRSBjdXNfY29tcG5hbWUgPSAnIi4kaWQuIiciOyAgIA0KICAgICRjaGVjayA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfY2hlY2spOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2hlY2spOw0KICAgICRjYXRnID0gJG9iamVjdFsnY3VzX2JpbGxfYWRkcmVzczInXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBCdXNzdW5lczMoJGlkKSB7DQogICAgJHNlbGVjdF9jaGVjayA9ICJTRUxFQ1QgY3VzX2JpbGxfYWRkcmVzczMgRlJPTSBzb2hvcmVwcm9fY3VzdG9tZXJzIFdIRVJFIGN1c19jb21wbmFtZSA9ICciLiRpZC4iJyI7ICAgDQogICAgJGNoZWNrID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jaGVjayk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjaGVjayk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydjdXNfYmlsbF9hZGRyZXNzMyddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIGNvbXBhbnlfcGhvbmUoJGlkKSB7DQogICAgJHNlbGVjdF9jaGVjayA9ICJTRUxFQ1QgY3VzX2NvbnRhY3RfcGhvbmUgRlJPTSBzb2hvcmVwcm9fY3VzdG9tZXJzIFdIRVJFIGN1c19jb21wbmFtZSA9ICciLiRpZC4iJyI7ICAgDQogICAgJGNoZWNrID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jaGVjayk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjaGVjayk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydjdXNfY29udGFjdF9waG9uZSddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIFN1cHBseVVzckNvbnRTaG9wcCgkY29tcF9pZCwkdXNyX2lkKSB7DQogICAgJHNlbGVjdF91c2VyID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2N1c3RvbWVycyBXSEVSRSBjdXNfY29tcG5hbWUgPSciLiRjb21wX2lkLiInICBBTkQgY3VzX3N0YXR1cyA9ICcxJyAiOw0KICAgICR1c2VyID0gbXlzcWxfcXVlcnkoJHNlbGVjdF91c2VyKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCR1c2VyKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBjb21wYW55X2ZheCgkaWQpIHsNCiAgICAkc2VsZWN0X2NoZWNrID0gIlNFTEVDVCBjdXNfY29udGFjdF9mYXggRlJPTSBzb2hvcmVwcm9fY3VzdG9tZXJzIFdIRVJFIGN1c19jb21wbmFtZSA9ICciLiRpZC4iJyI7ICAgDQogICAgJGNoZWNrID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jaGVjayk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjaGVjayk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydjdXNfY29udGFjdF9mYXgnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBjb21wYW55X2NpdHkoJGlkKSB7DQogICAgJHNlbGVjdF9jaGVjayA9ICJTRUxFQ1QgY3VzX2JpbGxfY2l0eSBGUk9NIHNvaG9yZXByb19jdXN0b21lcnMgV0hFUkUgY3VzX2NvbXBuYW1lID0gJyIuJGlkLiInIjsgICANCiAgICAkY2hlY2sgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NoZWNrKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNoZWNrKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ2N1c19iaWxsX2NpdHknXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBjb21wYW55X3N0YXRlKCRpZCkgew0KICAgICRzZWxlY3RfY2hlY2sgPSAiU0VMRUNUIGN1c19iaWxsX3N0YXRlIEZST00gc29ob3JlcHJvX2N1c3RvbWVycyBXSEVSRSBjdXNfY29tcG5hbWUgPSAnIi4kaWQuIiciOyAgIA0KICAgICRjaGVjayA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfY2hlY2spOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2hlY2spOw0KICAgICRjYXRnID0gJG9iamVjdFsnY3VzX2JpbGxfc3RhdGUnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBjb21wYW55X3ppcCgkaWQpIHsNCiAgICAkc2VsZWN0X2NoZWNrID0gIlNFTEVDVCBjdXNfYmlsbF96aXBjb2RlIEZST00gc29ob3JlcHJvX2N1c3RvbWVycyBXSEVSRSBjdXNfY29tcG5hbWUgPSAnIi4kaWQuIiciOyAgIA0KICAgICRjaGVjayA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfY2hlY2spOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2hlY2spOw0KICAgICRjYXRnID0gJG9iamVjdFsnY3VzX2JpbGxfemlwY29kZSddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCg0KZnVuY3Rpb24gc2VsZWN0TWFuYWdlcigkaWQpIHsNCiAgICAkc2VsZWN0X2NoZWNrID0gIlNFTEVDVCBjdXNfZW1haWwgRlJPTSBzb2hvcmVwcm9fY3VzdG9tZXJzIFdIRVJFIGN1c19jb21wbmFtZSA9ICciLiRpZC4iJyBBTkQgY3VzX21hbmFnZXIgPSAnMScgIjsgICANCiAgICAkY2hlY2sgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NoZWNrKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNoZWNrKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ2N1c19lbWFpbCddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIGdldHN1cGVyKCRpZCkgew0KICAgICRzZWxlY3RfY29tcGFueSA9ICJTRUxFQ1Qgc3VwZXJjYXRlZ29yeV9pZCBGUk9NIHNvaG9yZXByb19wcm9kdWN0cyBXSEVSRSBpZCA9ICciLiRpZC4iJyI7DQogICAgJGNvbXBhbnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NvbXBhbnkpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY29tcGFueSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydzdXBlcmNhdGVnb3J5X2lkJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gZ2V0Y2F0KCRpZCkgew0KICAgICRzZWxlY3RfY29tcGFueSA9ICJTRUxFQ1QgY2F0ZWdvcnlfaWQgRlJPTSBzb2hvcmVwcm9fcHJvZHVjdHMgV0hFUkUgaWQgPSAnIi4kaWQuIiciOw0KICAgICRjb21wYW55ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jb21wYW55KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNvbXBhbnkpOw0KICAgICRjYXRnID0gJG9iamVjdFsnY2F0ZWdvcnlfaWQnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBnZXRzdWIoJGlkKSB7DQogICAgJHNlbGVjdF9jb21wYW55ID0gIlNFTEVDVCBzdWJjYXRlZ29yeV9pZCBGUk9NIHNvaG9yZXByb19wcm9kdWN0cyBXSEVSRSBpZCA9ICciLiRpZC4iJyI7DQogICAgJGNvbXBhbnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NvbXBhbnkpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY29tcGFueSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydzdWJjYXRlZ29yeV9pZCddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIGdldHN1cGVyTigkaWQpIHsNCiAgICAkc2VsZWN0X2NvbXBhbnkgPSAiU0VMRUNUIGNhdGVnb3J5X25hbWUgRlJPTSBzb2hvcmVwcm9fY2F0ZWdvcnkgV0hFUkUgaWQgPSAnIi4kaWQuIiciOw0KICAgICRjb21wYW55ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jb21wYW55KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNvbXBhbnkpOw0KICAgICRjYXRnID0gJG9iamVjdFsnY2F0ZWdvcnlfbmFtZSddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIGdldGNhdE4oJGlkKSB7DQogICAgJHNlbGVjdF9jb21wYW55ID0gIlNFTEVDVCBjYXRlZ29yeV9uYW1lIEZST00gc29ob3JlcHJvX2NhdGVnb3J5IFdIRVJFIGlkID0gJyIuJGlkLiInIjsNCiAgICAkY29tcGFueSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfY29tcGFueSk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjb21wYW55KTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ2NhdGVnb3J5X25hbWUnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBnZXRzdWJOKCRpZCkgew0KICAgICRzZWxlY3RfY29tcGFueSA9ICJTRUxFQ1QgY2F0ZWdvcnlfbmFtZSBGUk9NIHNvaG9yZXByb19jYXRlZ29yeSBXSEVSRSBpZCA9ICciLiRpZC4iJyI7DQogICAgJGNvbXBhbnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NvbXBhbnkpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY29tcGFueSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydjYXRlZ29yeV9uYW1lJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KLy9DdXN0b21lcnMgUGVyIENvbWFwbnkNCg0KZnVuY3Rpb24gY3VzdFBlckNvbXAoJGlkKSB7DQogICAgJHNlbGVjdF91c2VycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jdXN0b21lcnMgV0hFUkUgY3VzX2NvbXBuYW1lID0gJyIuJGlkLiInIjsNCiAgICAkdXNlcnNfZGV0YWlscyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfdXNlcnMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHVzZXJzX2RldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KDQoNCi8vUGFnaW5hdGlvbiBGdW5jdGlvbg0KZnVuY3Rpb24gUGFnaW5hdGlvbnMoJHBlcl9wYWdlID0gMTAsICRwYWdlID0gMSwgJHVybCA9ICcnLCAkdG90YWwpeyAgICANCiANCiAgICAgICAgJGFkamFjZW50cyA9ICIyIjsNCiANCiAgICAgICAgJHBhZ2UgPSAoJHBhZ2UgPT0gMCA/IDEgOiAkcGFnZSk7IA0KICAgICAgICAkc3RhcnQgPSAoJHBhZ2UgLSAxKSAqICRwZXJfcGFnZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgIA0KICAgICAgICAkcHJldiA9ICRwYWdlIC0gMTsgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICRuZXh0ID0gJHBhZ2UgKyAxOw0KICAgICAgICAkbGFzdHBhZ2UgPSBjZWlsKCR0b3RhbC8kcGVyX3BhZ2UpOw0KICAgICAgICAkbHBtMSA9ICRsYXN0cGFnZSAtIDE7DQogICAgICAgICANCiAgICAgICAgJHBhZ2luYXRpb24gPSAiIjsNCiAgICAgICAgaWYoJGxhc3RwYWdlID4gMSkNCiAgICAgICAgeyAgDQogICAgICAgICAgICAkcGFnaW5hdGlvbiAuPSAiPHVsIGNsYXNzPSdwYWdpbmF0aW9uJz4iOw0KICAgICAgICAgICAgICAgICAgICAkcGFnaW5hdGlvbiAuPSAiPGxpIGNsYXNzPSdkZXRhaWxzJz5QYWdlICRwYWdlIG9mICRsYXN0cGFnZTwvbGk+IjsNCiAgICAgICAgICAgIGlmICgkbGFzdHBhZ2UgPCA3ICsgKCRhZGphY2VudHMgKiAyKSkNCiAgICAgICAgICAgIHsgIA0KICAgICAgICAgICAgICAgIGZvciAoJGNvdW50ZXIgPSAxOyAkY291bnRlciA8PSAkbGFzdHBhZ2U7ICRjb3VudGVyKyspDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBpZiAoJGNvdW50ZXIgPT0gJHBhZ2UpDQogICAgICAgICAgICAgICAgICAgICAgICAkcGFnaW5hdGlvbi49ICI8bGk+PGEgY2xhc3M9J2N1cnJlbnQnPiRjb3VudGVyPC9hPjwvbGk+IjsNCiAgICAgICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgJHBhZ2luYXRpb24uPSAiPGxpPjxhIGhyZWY9J3skdXJsfSRjb3VudGVyJz4kY291bnRlcjwvYT48L2xpPiI7ICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2VpZigkbGFzdHBhZ2UgPiA1ICsgKCRhZGphY2VudHMgKiAyKSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZigkcGFnZSA8IDEgKyAoJGFkamFjZW50cyAqIDIpKSAgICANCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGZvciAoJGNvdW50ZXIgPSAxOyAkY291bnRlciA8IDQgKyAoJGFkamFjZW50cyAqIDIpOyAkY291bnRlcisrKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGNvdW50ZXIgPT0gJHBhZ2UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBhZ2luYXRpb24uPSAiPGxpPjxhIGNsYXNzPSdjdXJyZW50Jz4kY291bnRlcjwvYT48L2xpPiI7DQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBhZ2luYXRpb24uPSAiPGxpPjxhIGhyZWY9J3skdXJsfSRjb3VudGVyJz4kY291bnRlcjwvYT48L2xpPiI7ICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICRwYWdpbmF0aW9uLj0gIjxsaSBjbGFzcz0nZG90Jz4uLi48L2xpPiI7DQogICAgICAgICAgICAgICAgICAgICRwYWdpbmF0aW9uLj0gIjxsaT48YSBocmVmPSd7JHVybH0kbHBtMSc+JGxwbTE8L2E+PC9saT4iOw0KICAgICAgICAgICAgICAgICAgICAkcGFnaW5hdGlvbi49ICI8bGk+PGEgaHJlZj0neyR1cmx9JGxhc3RwYWdlJz4kbGFzdHBhZ2U8L2E+PC9saT4iOyAgICAgDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2VpZigkbGFzdHBhZ2UgLSAoJGFkamFjZW50cyAqIDIpID4gJHBhZ2UgJiYgJHBhZ2UgPiAoJGFkamFjZW50cyAqIDIpKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgJHBhZ2luYXRpb24uPSAiPGxpPjxhIGhyZWY9J3skdXJsfTEnPjE8L2E+PC9saT4iOw0KICAgICAgICAgICAgICAgICAgICAkcGFnaW5hdGlvbi49ICI8bGk+PGEgaHJlZj0neyR1cmx9Mic+MjwvYT48L2xpPiI7DQogICAgICAgICAgICAgICAgICAgICRwYWdpbmF0aW9uLj0gIjxsaSBjbGFzcz0nZG90Jz4uLi48L2xpPiI7DQogICAgICAgICAgICAgICAgICAgIGZvciAoJGNvdW50ZXIgPSAkcGFnZSAtICRhZGphY2VudHM7ICRjb3VudGVyIDw9ICRwYWdlICsgJGFkamFjZW50czsgJGNvdW50ZXIrKykNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRjb3VudGVyID09ICRwYWdlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwYWdpbmF0aW9uLj0gIjxsaT48YSBjbGFzcz0nY3VycmVudCc+JGNvdW50ZXI8L2E+PC9saT4iOw0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwYWdpbmF0aW9uLj0gIjxsaT48YSBocmVmPSd7JHVybH0kY291bnRlcic+JGNvdW50ZXI8L2E+PC9saT4iOyAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAkcGFnaW5hdGlvbi49ICI8bGkgY2xhc3M9J2RvdCc+Li48L2xpPiI7DQogICAgICAgICAgICAgICAgICAgICRwYWdpbmF0aW9uLj0gIjxsaT48YSBocmVmPSd7JHVybH0kbHBtMSc+JGxwbTE8L2E+PC9saT4iOw0KICAgICAgICAgICAgICAgICAgICAkcGFnaW5hdGlvbi49ICI8bGk+PGEgaHJlZj0neyR1cmx9JGxhc3RwYWdlJz4kbGFzdHBhZ2U8L2E+PC9saT4iOyAgICAgDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICRwYWdpbmF0aW9uLj0gIjxsaT48YSBocmVmPSd7JHVybH0xJz4xPC9hPjwvbGk+IjsNCiAgICAgICAgICAgICAgICAgICAgJHBhZ2luYXRpb24uPSAiPGxpPjxhIGhyZWY9J3skdXJsfTInPjI8L2E+PC9saT4iOw0KICAgICAgICAgICAgICAgICAgICAkcGFnaW5hdGlvbi49ICI8bGkgY2xhc3M9J2RvdCc+Li48L2xpPiI7DQogICAgICAgICAgICAgICAgICAgIGZvciAoJGNvdW50ZXIgPSAkbGFzdHBhZ2UgLSAoMiArICgkYWRqYWNlbnRzICogMikpOyAkY291bnRlciA8PSAkbGFzdHBhZ2U7ICRjb3VudGVyKyspDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkY291bnRlciA9PSAkcGFnZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGFnaW5hdGlvbi49ICI8bGk+PGEgY2xhc3M9J2N1cnJlbnQnPiRjb3VudGVyPC9hPjwvbGk+IjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGFnaW5hdGlvbi49ICI8bGk+PGEgaHJlZj0neyR1cmx9JGNvdW50ZXInPiRjb3VudGVyPC9hPjwvbGk+IjsgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAoJHBhZ2UgPCAkY291bnRlciAtIDEpew0KICAgICAgICAgICAgICAgICRwYWdpbmF0aW9uLj0gIjxsaT48YSBocmVmPSd7JHVybH0kbmV4dCc+TmV4dDwvYT48L2xpPiI7DQogICAgICAgICAgICAgICAgJHBhZ2luYXRpb24uPSAiPGxpPjxhIGhyZWY9J3skdXJsfSRsYXN0cGFnZSc+TGFzdDwvYT48L2xpPiI7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAkcGFnaW5hdGlvbi49ICI8bGk+PGEgY2xhc3M9J2N1cnJlbnQnPk5leHQ8L2E+PC9saT4iOw0KICAgICAgICAgICAgICAgICRwYWdpbmF0aW9uLj0gIjxsaT48YSBjbGFzcz0nY3VycmVudCc+TGFzdDwvYT48L2xpPiI7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAkcGFnaW5hdGlvbi49ICI8L3VsPlxuIjsgICAgIA0KICAgICAgICB9ICAgICAgICAgIA0KICAgICAgICByZXR1cm4gJHBhZ2luYXRpb247DQogICAgfSAJCQ0KDQoNCi8vRXhjZWwgRmlsZSBVcGxvYWQgRnVuY3Rpb25zDQogICAgZnVuY3Rpb24gdXBsb2FkRmlsZSgkZmllbGROYW1lLCAkZmlsZVR5cGUsICRmb2xkZXJOYW1lLCAkbmFtZSA9ICIiKQ0KICAgIHsNCiAgICAgICAgJGZsZyA9IDA7DQogICAgICAgICRNYXhJRCA9ICIiOw0KICAgICAgICAkZXh0ID0gIiI7DQogICAgICAgICR1cGxvYWRmaWxlID0gIiI7DQogICAgICAgIGlmIChpc3NldCgkZmllbGROYW1lKSBBTkQgJGZpZWxkTmFtZVsnbmFtZSddICE9ICcnKQ0KICAgICAgICB7DQogICAgICAgICAgICAkZmxnID0gMTsNCiAgICAgICAgICAgICRhbGxvd2VkX2ZpbGV0eXBlcyA9ICRmaWxlVHlwZTsNCiAgICAgICAgICAgICRtYXhfZmlsZXNpemUgPSAxMDQ4NTc2Ow0KICAgICAgICAgICAgJGZpbGVuYW1lID0gJGZpZWxkTmFtZVsnbmFtZSddOw0KICAgICAgICAgICAgaWYgKCRuYW1lID09ICIiKQ0KICAgICAgICAgICAgICAgIC8vJE1heElEID0gdGltZSgpIC4gdGltZSgpIC4gcmFuZCgxLCAxMDApOw0KICAgICAgICAgICAgICAgICRNYXhJRCA9ICRmaWxlbmFtZTsNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAkTWF4SUQgPSAkbmFtZTsNCiAgICAgICAgICAgICRleHQgPSBzdWJzdHIoJGZpbGVuYW1lLCBzdHJwb3MoJGZpbGVuYW1lLCAnLicpLCBzdHJsZW4oJGZpbGVuYW1lKSAtIDEpOw0KCQkJaWYoJGV4dD09Ii54bHN4IikNCgkJCQkkZXh0PSIueGxzIjsNCiAgICAgICAgICAgIGlmICghaW5fYXJyYXkoJGV4dCwgJGFsbG93ZWRfZmlsZXR5cGVzKSkNCiAgICAgICAgICAgICAgICBlY2hvICI8aDE+VGhlIGZpbGUgeW91IGF0dGVtcHRlZCB0byB1cGxvYWQgaXMgbm90IGFsbG93ZWQuLi48L2gxPiI7DQogICAgICAgICAgICBlbHNlIGlmIChmaWxlc2l6ZSgkZmllbGROYW1lWyd0bXBfbmFtZSddKSA+ICRtYXhfZmlsZXNpemUpDQogICAgICAgICAgICAgICAgZWNobyAiPGgxPlRoZSBmaWxlIHlvdSBhdHRlbXB0ZWQgdG8gdXBsb2FkIGlzIHRvbyBsYXJnZS4uLjwvaDE+IjsNCiAgICAgICAgICAgIGVsc2UgDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgJHVwbG9hZGZpbGUgPSAkZm9sZGVyTmFtZSAuICIvIiAuICRNYXhJRDsNCiAgICAgICAgICAgICAgICBpZiAobW92ZV91cGxvYWRlZF9maWxlKCRmaWVsZE5hbWVbJ3RtcF9uYW1lJ10sICR1cGxvYWRmaWxlKSA9PSBGQUxTRSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGVjaG8gIjxoMT5FcnJvciBpbiBVcGxvYWRpbmcgRmlsZS4uLjwvaDE+IjsNCiAgICAgICAgICAgICAgICAgICAgJE1heElEID0gIiI7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgJE1heElEID0gJE1heElEOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiAkTWF4SUQ7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGNoZWNrU3VwZXJDYXRlKCRpZCkgDQogICAgew0KICAgICRzZWxlY3RfY2F0ZWdvcnkgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY2F0ZWdvcnkgV0hFUkUgY2F0ZWdvcnlfbmFtZSA9ICckaWQnIEFORCBzdXBlcl9pZCA9ICcwJyBBTkQgcGFyZW50X2lkID0gJzAnIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCiAgICB9DQogICAgDQogICAgDQogICAgZnVuY3Rpb24gY2hlY2tDYXRlKCRpZCkgDQogICAgew0KICAgICRzZWxlY3RfY2F0ZWdvcnkgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY2F0ZWdvcnkgV0hFUkUgY2F0ZWdvcnlfbmFtZSA9ICckaWQnIEFORCBzdXBlcl9pZCAhPSAnMCcgQU5EIHBhcmVudF9pZCA9ICcwJyI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2F0ZWdvcnkpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQogICAgfQ0KICAgIA0KICAgIGZ1bmN0aW9uIGNoZWNrU3ViQ2F0ZSgkaWQpIA0KICAgIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NhdGVnb3J5IFdIRVJFIGNhdGVnb3J5X25hbWUgPSAnJGlkJyBBTkQgc3VwZXJfaWQgIT0gJzAnIEFORCBwYXJlbnRfaWQgIT0gJzAnIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gZ2V0cHJvZHVjdE5hbWUoJGlkKSANCiAgICB7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wcm9kdWN0cyBXSEVSRSBwcm9kdWN0X25hbWUgPSAnJGlkJyI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2F0ZWdvcnkpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQogICAgfQ0KICAgIA0KLy9DaGVja291dCBGdW5jdGlvbnMNCiAgICANCmZ1bmN0aW9uIGNoZWNrT3V0KCRpZCkNCnsNCiAgICAkc2VsZWN0X2NoZWNrb3V0ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NoZWNrb3V0IFdIRVJFIHVzZXJfaWQgPSAnJGlkJyI7DQogICAgJHByb2R1Y3QgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NoZWNrb3V0KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcm9kdWN0KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOyAgICANCn0NCg0KZnVuY3Rpb24gY2hlY2tQaWQoJHBpZCwkdWlkKQ0Kew0KICAgICRzZWxlY3RfY2hlY2tvdXQgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY2hlY2tvdXQgV0hFUkUgcHJvZHVjdF9pZCA9ICckcGlkJyBBTkQgdXNlcl9pZCA9ICckdWlkJyI7DQogICAgJHByb2R1Y3QgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NoZWNrb3V0KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcm9kdWN0KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOyAgICANCn0NCiANCmZ1bmN0aW9uIGNoZWNrUElPRCgkb3JkZXJfaWQsJHByb2R1Y3RfaWQpDQp7DQogICAgJHNlbGVjdF9jaGVja291dCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wcm9kdWN0X21hc3RlciBXSEVSRSBvcmRlcl9pZCA9ICckb3JkZXJfaWQnIEFORCBwcm9kdWN0X2lkID0gJyRwcm9kdWN0X2lkJyAiOw0KICAgICRwcm9kdWN0ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jaGVja291dCk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJvZHVjdCkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsgICAgDQp9DQoNCiAgICANCmZ1bmN0aW9uIGdldFNrdSgkaWQpIHsNCiAgICAkc2VsZWN0X3NrdSA9ICJTRUxFQ1Qgc2t1X2lkIEZST00gc29ob3JlcHJvX3Byb2R1Y3RzIFdIRVJFIGlkID0gJyIuJGlkLiInIjsNCiAgICAkY29tcGFueSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3Rfc2t1KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNvbXBhbnkpOw0KICAgICRjYXRnID0gJG9iamVjdFsnc2t1X2lkJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gZ2V0UHJvTmFtZSgkaWQpIHsNCiAgICAkc2VsZWN0X25hbWUgPSAiU0VMRUNUIHByb2R1Y3RfbmFtZSBGUk9NIHNvaG9yZXByb19wcm9kdWN0cyBXSEVSRSBpZCA9ICciLiRpZC4iJyI7DQogICAgJGNvbXBhbnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X25hbWUpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY29tcGFueSk7DQogICAgJGNhdGcgPSAkb2JqZWN0Wydwcm9kdWN0X25hbWUnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBnZXRQcmljZUNrdCgkaWQpIHsNCiAgICAkc2VsZWN0X3ByaWNlID0gIlNFTEVDVCBzdW0ocXVhbnRpdHkgKiB1bml0X3ByaWNlKSBhcyBzdWJfdG90YWwgRlJPTSBzb2hvcmVwcm9fY2hlY2tvdXQgV0hFUkUgdXNlcl9pZCA9ICciLiRpZC4iJyIgOw0KICAgICRwcmljZSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJpY2UpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByaWNlKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQoNCmZ1bmN0aW9uIHRvdGFsQ2FydCgkaWQpIHsNCiAgICAkc2VsZWN0X3ByaWNlID0gIlNFTEVDVCBzdW0ocXVhbnRpdHkpIGFzIGNhcnQgRlJPTSBzb2hvcmVwcm9fY2hlY2tvdXQgV0hFUkUgdXNlcl9pZCA9ICciLiRpZC4iJyIgOw0KICAgICRwcmljZSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJpY2UpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJpY2UpOw0KICAgICRjYXRnID0gJG9iamVjdFsnY2FydCddOw0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KDQpmdW5jdGlvbiBjaGVja01haWwoJGlkKSANCiAgICB7DQogICAgJHNlbGVjdF9tYWlsID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2N1c3RvbWVycyBXSEVSRSBjdXNfZW1haWwgPSAnJGlkJyAiOw0KICAgICRtYWlsID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9tYWlsKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRtYWlsKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KICAgIH0NCiAgICANCmZ1bmN0aW9uIGNoZWNrY29tcCgkaWQpIA0KICAgIHsNCiAgICAkc2VsZWN0X21haWwgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY29tcGFueSBXSEVSRSBjb21wX25hbWUgPSAnJGlkJyAiOw0KICAgICRtYWlsID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9tYWlsKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRtYWlsKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KICAgIH0NCiAgICANCi8vRmluZCBDb21wYW55IElEICAgIA0KZnVuY3Rpb24gY29tcE5hbWUoJGNvbXBhbnlfbmFtZSkgew0KICAgICRjb21wYW55X25hbWUgICA9ICAgc3RydG9sb3dlcihteXNxbF9yZWFsX2VzY2FwZV9zdHJpbmcoJGNvbXBhbnlfbmFtZSkpOw0KICAgICRjb21wX2lkID0gIlNFTEVDVCBjb21wX2lkIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgY29tcF9uYW1lID0gJyIuJGNvbXBhbnlfbmFtZS4iJyI7DQogICAgJGNvbXBhbnkgPSBteXNxbF9xdWVyeSgkY29tcF9pZCk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjb21wYW55KTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ2NvbXBfaWQnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBjb21wTmFtZV9uZXdfaW1wb3J0KCRjb21wYW55X25hbWUpIHsNCiAgICAkY29tcGFueV9uYW1lICAgPSAgIHN0cnRvbG93ZXIobXlzcWxfcmVhbF9lc2NhcGVfc3RyaW5nKCRjb21wYW55X25hbWUpKTsNCiAgICAkY29tcF9pZCA9ICJTRUxFQ1QgY29tcF9pZCBGUk9NIHNvaG9yZXByb19jb21wYW55X25ldyBXSEVSRSBjb21wX25hbWUgPSAnIi4kY29tcGFueV9uYW1lLiInIjsNCiAgICAkY29tcGFueSA9IG15c3FsX3F1ZXJ5KCRjb21wX2lkKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNvbXBhbnkpOw0KICAgICRjYXRnID0gJG9iamVjdFsnY29tcF9pZCddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCg0KZnVuY3Rpb24gQ09NUElEKCR1c2VyX2lkKSB7DQogICAgJGNvbXBfaWQgPSAiU0VMRUNUIGN1c19jb21wbmFtZSBGUk9NIHNvaG9yZXByb19jdXN0b21lcnMgV0hFUkUgY3VzX2lkID0gJyIuJHVzZXJfaWQuIiciOw0KICAgICRjb21wYW55ID0gbXlzcWxfcXVlcnkoJGNvbXBfaWQpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY29tcGFueSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydjdXNfY29tcG5hbWUnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQovL0ZpbmQgU3RhdGUgSUQgICAgDQpmdW5jdGlvbiBTdGF0ZV9WYWwoJHN0YXRlX25hbWUpIHsNCiAgICAkc3RhdGVfbmFtZSAgID0gICBzdHJ0b2xvd2VyKG15c3FsX3JlYWxfZXNjYXBlX3N0cmluZygkc3RhdGVfbmFtZSkpOw0KICAgICRzdGF0ZV9pZCA9ICJTRUxFQ1Qgc3RhdGVfaWQgRlJPTSBzb2hvcmVwcm9fc3RhdGVzIFdIRVJFIHN0YXRlX2FiYnIgPSAnIi4kc3RhdGVfbmFtZS4iJyI7DQogICAgJGNvbXBhbnkgPSBteXNxbF9xdWVyeSgkc3RhdGVfaWQpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY29tcGFueSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydzdGF0ZV9pZCddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIFN0YXRlTmFtZSgkc3RhdGVfaWQpIHsgICAgDQogICAgJHN0YXRlX2lkID0gIlNFTEVDVCBzdGF0ZV9hYmJyIEZST00gc29ob3JlcHJvX3N0YXRlcyBXSEVSRSBzdGF0ZV9pZCA9ICciLiRzdGF0ZV9pZC4iJyI7DQogICAgJGNvbXBhbnkgPSBteXNxbF9xdWVyeSgkc3RhdGVfaWQpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY29tcGFueSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydzdGF0ZV9hYmJyJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gU3RhdGVJZCgkc3RhdGVfYWJicikgeyAgICANCiAgICAkc3RhdGVfaWQgPSAiU0VMRUNUIHN0YXRlX2lkIEZST00gc29ob3JlcHJvX3N0YXRlcyBXSEVSRSBzdGF0ZV9hYmJyID0gJyIuJHN0YXRlX2FiYnIuIiciOw0KICAgICRjb21wYW55ID0gbXlzcWxfcXVlcnkoJHN0YXRlX2lkKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNvbXBhbnkpOw0KICAgICRjYXRnID0gJG9iamVjdFsnc3RhdGVfaWQnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBTdGF0ZUFsbCgpew0KICAgICRzZWxlY3Rfc3RhdGUgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fc3RhdGVzIjsNCiAgICAkc3RhdGUgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3N0YXRlKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRzdGF0ZSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCiAgICB9DQoNCmZ1bmN0aW9uIEVtcEVudHJ5KCkgew0KICAgICRzdGF0ZV9pZCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jdXN0b21lcnMgV0hFUkUgY3VzX2VtYWlsID0gJyciOw0KICAgICRjb21wYW55ID0gbXlzcWxfcXVlcnkoJHN0YXRlX2lkKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNvbXBhbnkpOw0KICAgICRjYXRnID0gJG9iamVjdFsnY3VzX3Bhc3MnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBjb21wYW55X2lkKCRpZCkgew0KICAgICRzdGF0ZV9pZCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jdXN0b21lcnMgV0hFUkUgY3VzX2lkID0gJyIuJGlkLiInICI7DQogICAgJGNvbXBhbnkgPSBteXNxbF9xdWVyeSgkc3RhdGVfaWQpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY29tcGFueSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydjdXNfY29tcG5hbWUnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQovL0FsbCBTaGlwcGluZyBBZGRyZXNzDQpmdW5jdGlvbiBTaGlwcGluZ0FkZHJlc3MoJGlkKSANCiAgICB7DQogICAgJHNlbGVjdF9tYWlsID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2FkZHJlc3MgV0hFUkUgY29tcF9pZCA9ICckaWQnIEFORCB0eXBlPSAnMCcgQU5EIHByb3AgPSAnMCcgIjsNCiAgICAkbWFpbCA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfbWFpbCk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkbWFpbCkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCiAgICB9DQoNCmZ1bmN0aW9uIFNoaXBwaW5nQWRkcmVzc1NlcnZpY2UoJGlkKSANCiAgICB7DQogICAgJHNlbGVjdF9tYWlsID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2FkZHJlc3Nfc2VydmljZSBXSEVSRSBjb21wX2lkID0gJyRpZCcgQU5EIHR5cGU9ICcwJyBBTkQgcHJvcCA9ICcwJyAiOw0KICAgICRtYWlsID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9tYWlsKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRtYWlsKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KICAgIH0NCiAgICANCmZ1bmN0aW9uIFNoaXBwaW5nQWRkcmVzc0FsbCgkaWQpIA0KICAgIHsNCiAgICAkc2VsZWN0X21haWwgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fYWRkcmVzcyBXSEVSRSBjb21wX2lkID0gJyRpZCciOyAgIA0KICAgICRtYWlsID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9tYWlsKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRtYWlsKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KICAgIH0NCiAgICANCmZ1bmN0aW9uIFNoaXBwaW5nQWRkcmVzc0FsbEluZm8oJGlkKSANCiAgICB7DQogICAgJHNlbGVjdF9tYWlsID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2FkZHJlc3MgV0hFUkUgY29tcF9pZCA9ICckaWQnIEFORCB0eXBlID0gJzEnIjsgICANCiAgICAkbWFpbCA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfbWFpbCk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkbWFpbCkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCiAgICB9DQogICAgDQpmdW5jdGlvbiBTaGlwcGluZ0FkZHJlc3NBbGxGb3JHdWVzdCgkaWQpIA0KICAgIHsNCiAgICAkc2VsZWN0X21haWwgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fYWRkcmVzcyBXSEVSRSBjb21wX2lkID0gJyRpZCciOyAgIA0KICAgICRtYWlsID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9tYWlsKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRtYWlsKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KICAgIH0NCg0KZnVuY3Rpb24gU2hpcEFkZE5ld1N1cCgkdXNlcl9pZCkgDQogICAgew0KICAgICRzZWxlY3RfbWFpbCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19hZGRyZXNzIFdIRVJFIGNvbXBfaWQgPSAnJHVzZXJfaWQnIjsgICANCiAgICAkbWFpbCA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfbWFpbCk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkbWFpbCkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCiAgICB9DQogICAgDQogZnVuY3Rpb24gU2VsZWN0SWRBZGRyZXNzKCRpZCkgDQogICAgew0KICAgICRzZWxlY3RfbWFpbCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19hZGRyZXNzIFdIRVJFIGlkID0gJyRpZCciOw0KICAgICRtYWlsID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9tYWlsKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRtYWlsKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KICAgIH0gICANCiAgICANCmZ1bmN0aW9uIFNlbGVjdElkQWRkcmVzc1NlcnZpY2UoJGlkKSANCiAgICB7DQogICAgJHNlbGVjdF9tYWlsID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2FkZHJlc3Nfc2VydmljZSBXSEVSRSBpZCA9ICckaWQnIjsNCiAgICAkbWFpbCA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfbWFpbCk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkbWFpbCkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCiAgICB9ICAgDQogICAgDQpmdW5jdGlvbiBTZWxlY3RJZEFkZHJlc3NTZXJ2aWNlSW5zaWRlKCRjb21wYW55X25hbWUpIA0KICAgIHsNCiAgICAkc2VsZWN0X21haWwgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fYWRkcmVzc19zZXJ2aWNlIFdIRVJFIGNvbXBhbnlfbmFtZSA9ICckY29tcGFueV9uYW1lJyI7DQogICAgJG1haWwgPSBteXNxbF9xdWVyeSgkc2VsZWN0X21haWwpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJG1haWwpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQogICAgfSAgIA0KICAgIA0KLy9QcmltYXJ5IFNoaXBwaW5nIEFkZHJlc3MgDQpmdW5jdGlvbiBQcmltYXJ5U2hpcHBpbmcoJGlkKSANCiAgICB7DQogICAgJHNlbGVjdF9tYWlsID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2FkZHJlc3MgV0hFUkUgY29tcF9pZCA9ICckaWQnIEFORCB0eXBlID0nMScgIjsNCiAgICAkbWFpbCA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfbWFpbCk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkbWFpbCkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCiAgICB9DQogICAgDQpmdW5jdGlvbiBQcmltYXJ5U2hpcHBpbmdfdGVzdCgkaWQpIA0KICAgIHsNCiAgICAkc2VsZWN0X21haWwgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fYWRkcmVzcyBXSEVSRSBpZCA9ICckaWQnICI7DQogICAgJG1haWwgPSBteXNxbF9xdWVyeSgkc2VsZWN0X21haWwpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJG1haWwpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQogICAgfQ0KICAgIA0KLy9TZWxlY3QgU2hpcHBpbmcgQWRkcmVzcw0KZnVuY3Rpb24gU2VsZWN0U2hpcHBpbmdBZGRyZXNzKCRpZCkgDQogICAgew0KICAgICRzZWxlY3RfbWFpbCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19hZGRyZXNzIFdIRVJFIGNvbXBfaWQgPSAnJGlkJyBBTkQgdHlwZSA9ICcwJyAiOw0KICAgICRtYWlsID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9tYWlsKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRtYWlsKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KICAgIH0NCg0KZnVuY3Rpb24gZWRpdEFkZHJlc3MoJGlkKSB7DQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19hZGRyZXNzIFdIRVJFIGlkID0gJyIuJGlkLiInIjsNCiAgICAkcHJvZHVjdHMgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3Byb2R1Y3RzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcm9kdWN0cykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gZWRpdEFkZHJlc3NTZXJ2aWNlcygkaWQpIHsNCiAgICAkc2VsZWN0X3Byb2R1Y3RzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2FkZHJlc3Nfc2VydmljZSBXSEVSRSBpZCA9ICciLiRpZC4iJyI7DQogICAgJHByb2R1Y3RzID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9wcm9kdWN0cyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJvZHVjdHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gVXBkYXRlZEFkZHJlc3MoJGlkKSB7DQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19hZGRyZXNzIFdIRVJFIGlkID0gJyIuJGlkLiInIEFORCB0eXBlID0gJzEnICI7DQogICAgJHByb2R1Y3RzID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9wcm9kdWN0cyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJvZHVjdHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIFNlbGVjdEFsbEFkZHJlc3MoJGlkKSB7DQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19hZGRyZXNzIFdIRVJFIGlkID0gJyIuJGlkLiInIjsNCiAgICAkcHJvZHVjdHMgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3Byb2R1Y3RzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcm9kdWN0cykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gQ29tcGFueUFkZHJlc3MoJGlkKSB7DQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19hZGRyZXNzIFdIRVJFIGNvbXBfaWQgPSAnIi4kaWQuIiciOw0KICAgICRwcm9kdWN0cyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJvZHVjdHMpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJvZHVjdHMpOw0KICAgICRjYXRnID0gJG9iamVjdDsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBDb21wYW55QWRkcmVzc01haWwoJGlkKSB7DQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19hZGRyZXNzIFdIRVJFIGlkID0gJyIuJGlkLiInIjsNCiAgICAkcHJvZHVjdHMgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3Byb2R1Y3RzKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3RzKTsNCiAgICAkY2F0ZyA9ICRvYmplY3Q7IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gUHJvcFRlc3QoJGlkKSB7DQogICAgJHNlbGVjdF9wcm9kdWN0cyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19hZGRyZXNzIFdIRVJFIGlkID0gJyIuJGlkLiInIEFORCBwcm9wID0gJzEnICI7DQogICAgJHByb2R1Y3RzID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9wcm9kdWN0cyk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcm9kdWN0cyk7DQogICAgJGNhdGcgPSAkb2JqZWN0OyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCi8vIFJhbmRvbSBQYXNzd29yZCBHZW5lcmF0ZToNCmZ1bmN0aW9uIHJhbmRvbVBhc3N3b3JkKCkgew0KICAgICRhbHBoYWJldCA9ICJBQkNERUZHSElKS0xNTk9QUVJTVFVXWFlaMDEyMzQ1Njc4OSI7DQogICAgJHBhc3MgPSBhcnJheSgpOw0KICAgICRhbHBoYUxlbmd0aCA9IHN0cmxlbigkYWxwaGFiZXQpIC0gMTsNCiAgICBmb3IgKCRpID0gMDsgJGkgPCA4OyAkaSsrKSB7DQogICAgICAgICRuID0gcmFuZCgwLCAkYWxwaGFMZW5ndGgpOw0KICAgICAgICAkcGFzc1tdID0gJGFscGhhYmV0WyRuXTsNCiAgICB9DQogICAgcmV0dXJuIGltcGxvZGUoJHBhc3MpOw0KfQ0KIC8vTG9naW4gVXNlciBGdW5jdGlvbnMNCg0KLy9TdXBlciBBZG1pbiBMb2dpbiBGdW5jdGlvbi4NCmZ1bmN0aW9uIENoZWNrVXNlcigkdXNlciwkcGFzcykgew0KICAgICRzZWxlY3RfdXNlciA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb191c2VycyBXSEVSRSB1c2VyX25hbWUgPSAnIi4kdXNlci4iJyBBTkQgcGFzc3dvcmQgPSAnIi4kcGFzcy4iJyBBTkQgc3RhdHVzID0gJzEnIjsNCiAgICAkdXNlciA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfdXNlcik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkdXNlcikpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICByZXR1cm4gJHZhbHVlOw0KfSANCg0KLy8gQS9QIFVzZXIgTG9naW4gRnVuY3Rpb24uDQpmdW5jdGlvbiBDaGVja0FQVXNlcigkdXNlciwkcGFzcykgew0KICAgICRzZWxlY3RfdXNlciA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jdXN0b21lcnMgV0hFUkUgY3VzX2VtYWlsID0gJyIuJHVzZXIuIicgQU5EIGN1c19wYXNzID0gJyIuJHBhc3MuIicgQU5EIGFwX3VzZXIgPSAnMScgQU5EIGN1c19zdGF0dXMgPSAnMSciOw0KICAgICR1c2VyID0gbXlzcWxfcXVlcnkoJHNlbGVjdF91c2VyKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCR1c2VyKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgIHJldHVybiAkdmFsdWU7DQp9IA0KDQovL1VzZXIgRnVuY3Rpb25zDQpmdW5jdGlvbiBBbGxVc2VycygpIHsNCiAgICAkc2VsZWN0X3VzZXIgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fdXNlcnMgV0hFUkUgdHlwZSAhPSAnMScgIjsNCiAgICAkdXNlciA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfdXNlcik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkdXNlcikpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICByZXR1cm4gJHZhbHVlOw0KfSANCg0KLy9FZGl0IFVzZXINCmZ1bmN0aW9uIGVkaXRVc2Vyc1R5cGUoJGlkKSB7DQogICAgJHNlbGVjdF91c2VyID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3VzZXJzIFdIRVJFIGlkID0gJyIuJGlkLiInIjsNCiAgICAkdXNlciA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfdXNlcik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkdXNlcikpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KLy9TZWxlY3QgR3Vlc3QgSXRlbXMNCmZ1bmN0aW9uIEd1ZXN0SXRlbXMoJHN0YWZmX2lkKSB7DQogICAgJHNlbGVjdF9pdGVtcyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jaGVja291dF9ndWVzdCBXSEVSRSBzdGFmZl9pZCA9ICciLiRzdGFmZl9pZC4iJyAiOw0KICAgICRpdGVtcyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfaXRlbXMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGl0ZW1zKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQoNCmZ1bmN0aW9uIENoZWNrQ3VzVXNlcigkdXNlciwkcGFzcykgew0KICAgICRzZWxlY3RfdXNlciA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jdXN0b21lcnMgV0hFUkUgY3VzX2VtYWlsID0gJyIuJHVzZXIuIicgQU5EIGN1c19wYXNzID0gJyIuJHBhc3MuIicgQU5EIGN1c19zdGF0dXMgPSAnMSciOw0KICAgICR1c2VyID0gbXlzcWxfcXVlcnkoJHNlbGVjdF91c2VyKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCR1c2VyKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIEl0ZW1zVGVtcCgkaXApIHsNCiAgICAkc2VsZWN0X2l0ZW1zID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NoZWNrb3V0X2d1ZXN0IFdIRVJFIGlwID0gJyIuJGlwLiInICI7DQogICAgJGl0ZW1zID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9pdGVtcyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkaXRlbXMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gQ2xvc2VkVXNlcigkaWQpIHsNCiAgICAkc2VsZWN0X3VzZXIgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fdXNlcnMgV0hFUkUgaWQgPSAnIi4kaWQuIicgQU5EIHN0YXR1cyA9ICcxJyAiOw0KICAgICR1c2VyID0gbXlzcWxfcXVlcnkoJHNlbGVjdF91c2VyKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHVzZXIpOw0KICAgICR1c3IgPSAkb2JqZWN0OyANCiAgICByZXR1cm4gJHVzcjsNCn0NCg0KLy8gQS9QIFVzZXIgT3JkZXIgbGlzdGluDQoNCmZ1bmN0aW9uIGdldE9yZGVyc0FwKCRzb3J0aW5nLCRjb21wX2lkKSB7DQogICAgLy9yZXR1cm4gJHNvcnRpbmc7DQogICAgaWYoJHNvcnRpbmcgPT0gJ2EnKXsNCiAgICAkc2VsZWN0X29yZGVycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19vcmRlcl9tYXN0ZXIgV0hFUkUgY3VzdG9tZXJfY29tcGFueSA9ICciLiRjb21wX2lkLiInIE9SREVSIEJZIGNyZWF0ZWRfZGF0ZSBBU0MiOyAgDQogICAgfSAgDQogICAgZWxzZWlmKCRzb3J0aW5nID09ICdkJykgDQogICAgew0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX29yZGVyX21hc3RlciBXSEVSRSBjdXN0b21lcl9jb21wYW55ID0gJyIuJGNvbXBfaWQuIicgT1JERVIgQlkgY3JlYXRlZF9kYXRlIERFU0MiOyAgICAgDQogICAgfQ0KICAgIGVsc2VpZigkc29ydGluZyA9PSAnam5kJykgDQogICAgew0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX29yZGVyX21hc3RlciBXSEVSRSBjdXN0b21lcl9jb21wYW55ID0gJyIuJGNvbXBfaWQuIicgT1JERVIgQlkgb3JkZXJfaWQgREVTQyI7ICAgICANCiAgICB9DQogICAgZWxzZWlmKCRzb3J0aW5nID09ICdqbmEnKSANCiAgICB7DQogICAgJHNlbGVjdF9vcmRlcnMgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fb3JkZXJfbWFzdGVyIFdIRVJFIGN1c3RvbWVyX2NvbXBhbnkgPSAnIi4kY29tcF9pZC4iJyBPUkRFUiBCWSBvcmRlcl9pZCBBU0MiOyAgICAgDQogICAgfQ0KICAgIGVsc2UgDQogICAgew0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX29yZGVyX21hc3RlciBXSEVSRSBjdXN0b21lcl9jb21wYW55ID0gJyIuJGNvbXBfaWQuIicgT1JERVIgQlkgaWQgREVTQyI7ICAgICAgICANCiAgICB9DQogICAgJG9yZGVycyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3Rfb3JkZXJzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRvcmRlcnMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQpmdW5jdGlvbiBDYXNoQ29udGFjdCgkaWQpIHsNCiAgICAkc2VsZWN0X2NvbnRhY3QgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY2NfY29udGFjdCBXSEVSRSBvcmRlcl9pZCA9ICciLiRpZC4iJyI7DQogICAgJGNjID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jb250YWN0KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNjKTsNCiAgICAkdXNyID0gJG9iamVjdDsgDQogICAgcmV0dXJuICR1c3I7DQp9DQoNCg0KZnVuY3Rpb24gSm9iSW52b2NlKCRzdGFydCwkbGltaXQpIHsNCiAgICAkc2VsZWN0X2l0ZW1zID0gIlNFTEVDVCBESVNUSU5DVCBjdXN0bm8sc29ob19pbnZfbm8sZW5kX2RhdGUsaW52X2RhdGUgRlJPTSBgaW52b2ljZWAgT1JERVIgQlkgYGludm9pY2VgLmBpbnZfZGF0ZWAgIERFU0MgTElNSVQgJHN0YXJ0LCAkbGltaXQgIjsNCiAgICAkaXRlbXMgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2l0ZW1zKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRpdGVtcykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gSm9iSW52b2NlQ291bnQoKSB7DQogICAgJHNlbGVjdF9pdGVtcyA9ICJTRUxFQ1QgRElTVElOQ1QgY3VzdG5vLHNvaG9faW52X25vLGVuZF9kYXRlLGludl9kYXRlIEZST00gYGludm9pY2VgICI7DQogICAgJGl0ZW1zID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9pdGVtcyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkaXRlbXMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gSm9iSW52b2NlRGF0YSgkaWQpIHsNCiAgICAkc2VsZWN0X2l0ZW1zID0gIlNFTEVDVCAqIEZST00gam9iIFdIRVJFIGlkID0gJyIuJGlkLiInICI7DQogICAgJGl0ZW1zID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9pdGVtcyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkaXRlbXMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gSW52b2NlRGF0YSgkaWQpIHsNCiAgICAkc2VsZWN0X2l0ZW1zID0gIlNFTEVDVCAqIEZST00gaW52b2ljZSBXSEVSRSBzb2hvX2ludl9ubyA9ICciLiRpZC4iJyAiOw0KICAgICRpdGVtcyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfaXRlbXMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGl0ZW1zKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQoNCmZ1bmN0aW9uIEdldFByb2RJbnYoJGlkLCRpbnZfbnVtLCRyZWZmZikgew0KLy8gICAgJHZhbCA9IGltcGxvZGUoJywnLCAkaWQpOw0KLy8gICAgJHZhbF8xID0gc3RyX3JlcGxhY2UoIiwiLCAiJywnIiwgJHZhbCk7DQogICAgJHNlbGVjdF9pdGVtcyA9ICJTRUxFQ1QgKiBGUk9NIGludm9pY2UgV0hFUkUgaW52bm8gPSAnIi4kaWQuIicgQU5EIHNvaG9faW52X25vID0gJyIuJGludl9udW0uIicgQU5EIHJlZmVyZW5jZSA9ICciLiRyZWZmZi4iJyBPUkRFUiBCWSBpbnZfZGF0ZSBBU0MgIjsNCiAgICAkaXRlbXMgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2l0ZW1zKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRpdGVtcykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQpmdW5jdGlvbiBSZWZlcmVuY2VTb2hvKCRpZCkgew0KICAgICRzZWxlY3RfdXNlciA9ICJTRUxFQ1QgcmVmZXJlbmNlLGludm5vIEZST00gaW52b2ljZSBXSEVSRSBzb2hvX2ludl9ubyA9ICciLiRpZC4iJyBHUk9VUCBCWSBpbnZubyBPUkRFUiBCWSAgYGludm9pY2VgLmByZWZlcmVuY2VgIEFTQywgaW52X2RhdGUgQVNDICI7DQogICAgJGl0ZW1zID0gbXlzcWxfcXVlcnkoJHNlbGVjdF91c2VyKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRpdGVtcykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gU3VtRXh0UHJjKCRpZCkgew0KICAgICRzZWxlY3RfcHJpY2UgPSAiU0VMRUNUIHN1bShleHRfcHJpY2UpIGFzIGV4dF9wcmljZSBGUk9NIGludm9pY2UgV0hFUkUgaW52bm8gPSAnIi4kaWQuIiciIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3ByaWNlKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcmljZSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gU3VtVGF4KCRpZCkgew0KICAgICRzZWxlY3RfcHJpY2UgPSAiU0VMRUNUIHN1bSgodGF4cmF0ZSkgKiAoZXh0X3ByaWNlLzEwMCkpIGFzIHN1bV90YXggRlJPTSBpbnZvaWNlIFdIRVJFIGludm5vID0gJyIuJGlkLiInIiA7DQogICAgJHByaWNlID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9wcmljZSk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJpY2UpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIEdyYW5kU3VtVGF4KCRpZCkgew0KICAgICRzZWxlY3RfcHJpY2UgPSAiU0VMRUNUIHN1bSgodGF4cmF0ZSkgKiAoZXh0X3ByaWNlLzEwMCkpIGFzIGdyYW5kX3N1bV90YXggRlJPTSBpbnZvaWNlIFdIRVJFIHNvaG9faW52X25vID0gJyIuJGlkLiInIiA7DQogICAgJHByaWNlID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9wcmljZSk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJpY2UpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIEdyYW5kU3VtRXh0UHJjKCRpZCkgew0KICAgICRzZWxlY3RfcHJpY2UgPSAiU0VMRUNUIHN1bShleHRfcHJpY2UpIGFzIGdyYW5kX2V4dF9wcmljZSBGUk9NIGludm9pY2UgV0hFUkUgc29ob19pbnZfbm8gPSAnIi4kaWQuIiciIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3ByaWNlKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcmljZSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQpmdW5jdGlvbiBnZXRDdXN0b21lSW5mbygkaWQpIHsNCiAgICAkc2VsZWN0X2l0ZW1zID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgY29tcF9pZCA9ICciLiRpZC4iJyAiOw0KICAgICRpdGVtcyA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfaXRlbXMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGl0ZW1zKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiB1c2VyRXhpc3QoJGlkKSB7DQogICAgJHNlbGVjdF9pdGVtcyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jdXN0b21lcnMgV0hFUkUgY3VzX2NvbXBuYW1lID0gJyIuJGlkLiInICI7DQogICAgJGl0ZW1zID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9pdGVtcyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkaXRlbXMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gQ29udGFjdE51bWJlcigkaWQpIHsNCiAgICAkc2VsZWN0X251bWJlciA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jb21wYW55IFdIRVJFIGNvbXBfaWQgPSAnIi4kaWQuIiciOw0KICAgICRudW1iZXIgPSBteXNxbF9xdWVyeSgkc2VsZWN0X251bWJlcik7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRudW1iZXIpOw0KICAgICRjYXRnID0gJG9iamVjdFsnY29tcF9jb250YWN0X3Bob25lJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gQ2hlY2tTdGF0dXNDdXMoJGlkKSB7DQogICAgJHNlbGVjdF9udW1iZXIgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY29tcGFueSBXSEVSRSBjb21wX2lkID0gJyIuJGlkLiInIjsNCiAgICAkbnVtYmVyID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9udW1iZXIpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkbnVtYmVyKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ3N0YXR1cyddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIENoZWNrU3RhdHVzRW1haWxTZXR0aW5ncygkaWQpIHsNCiAgICAkc2VsZWN0X251bWJlciA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19lbWFpbCBXSEVSRSBpZCA9ICciLiRpZC4iJyI7DQogICAgJG51bWJlciA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfbnVtYmVyKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJG51bWJlcik7DQogICAgJGNhdGcgPSAkb2JqZWN0WydzdGF0dXMnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBDdXNEdGxzU3BhbigkaWQpIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgY29tcF9pZCA9ICciLiRpZC4iJyI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2F0ZWdvcnkpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIENoa1ByZEd1ZXN0KCkgew0KICAgICRpcCAgICAgICAgICAgICAgPSBtZDUoJF9TRVJWRVJbJ0hUVFBfVVNFUl9BR0VOVCddIC4gJF9TRVJWRVJbJ1JFTU9URV9BRERSJ10pOw0KICAgICRzZWxlY3RfY2F0ZWdvcnkgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY2hlY2tvdXRfZ3Vlc3QgV0hFUkUgaXAgPSAnIi4kaXAuIiciOw0KICAgICRjYXRlZ29yeSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfY2F0ZWdvcnkpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGNhdGVnb3J5KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBVc2VyTG9naW4oJHJlZ19lbWFpbF9pZCwkcmVnX3Bhc3N3b3JkKSB7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jdXN0b21lcnMgV0hFUkUgY3VzX2VtYWlsID0gJyIuJHJlZ19lbWFpbF9pZC4iJyBBTkQgY3VzX3Bhc3MgPSAnIi4kcmVnX3Bhc3N3b3JkLiInIEFORCBjdXNfc3RhdHVzID0gJzEnIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gVXNlckxvZ2luRHRscygkY2hrX2N1c19zdGF0dXMpIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2N1c3RvbWVycyBXSEVSRSBjdXNfaWQgPSAnIi4kY2hrX2N1c19zdGF0dXMuIicgIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gQ2hlY2tDdXNTdGF0dXMoJGN1c19pZCkgew0KICAgICRzZWxlY3RfY2F0ZWdvcnkgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY29tcGFueSBXSEVSRSBjb21wX2lkID0gJyIuJGN1c19pZC4iJyBBTkQgc3RhdHVzID0gJzEnICI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2F0ZWdvcnkpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gU3RhdHVzQ2hlY2tDb21wKCRjdXNfaWQpIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgY29tcF9pZCA9ICciLiRjdXNfaWQuIicgQU5EIHN0YXR1cyA9ICcxJyAiOw0KICAgICRudW1iZXIgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJG51bWJlcik7DQogICAgJGNhdGcgPSAkb2JqZWN0Wydjb21wX2lkJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KDQpmdW5jdGlvbiBDdXN0b21lckRldGFpbHMoJGN1c19pZCkgew0KICAgICRzZWxlY3RfY2F0ZWdvcnkgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fY3VzdG9tZXJzIFdIRVJFIGN1c19jb21wbmFtZSA9ICciLiRjdXNfaWQuIicgIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQpmdW5jdGlvbiBDdXN0b21lckR0bHNBcmNoaXZlKCRjdXNfaWQpIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2NvbXBhbnkgV0hFUkUgY29tcF9pZCA9ICciLiRjdXNfaWQuIicgIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gVXNlckR0bHNBcmNoaXZlKCRjdXNfaWQpIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2N1c3RvbWVycyBXSEVSRSBjdXNfY29tcG5hbWUgPSAnIi4kY3VzX2lkLiInICI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkY2F0ZWdvcnkpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gQ3VycmVudE9yZGVyKCRpZCkgew0KICAgICRzZWxlY3RfY2F0ZWdvcnkgPSAiU0VMRUNUIHN1bSh1bml0X3ByaWNlKSBGUk9NIHNvaG9yZXByb19jaGVja291dCBXSEVSRSB1c2VyX2lkID0gJyIuJGlkLiInIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gQ3VycmVudENhcnQoJGlkKSB7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1Qgc3VtKHF1YW50aXR5KSBGUk9NIHNvaG9yZXByb19jaGVja291dCBXSEVSRSB1c2VyX2lkID0gJyIuJGlkLiInIjsNCiAgICAkY2F0ZWdvcnkgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KLy9DaGVjayBSZWZlcmVuY2UNCg0KZnVuY3Rpb24gQ2hlY2tSZWZlcmVuY2UoJGNvbXBhbnlfaWQsJHJlZmVyZWNlKQ0Kew0KICAgICRzZWxlY3RfY2hlY2tvdXQgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcmVmZXJlbmNlIFdIRVJFIGNvbXBhbnlfaWQgPSAnIi4kY29tcGFueV9pZC4iJyBBTkQgcmVmZXJlbmNlID0gJyIuJHJlZmVyZWNlLiInIjsNCiAgICAkcHJvZHVjdCA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfY2hlY2tvdXQpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3QpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7ICAgIA0KfQ0KDQovL0F1dG8gUmVmZXJlbmNlDQpmdW5jdGlvbiBBdXRvUmVmKCRjb21wYW55X2lkLCRyZWZlcmVjZSkNCnsNCiAgICAkc2VsZWN0X2NoZWNrb3V0ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3JlZmVyZW5jZSBXSEVSRSBjb21wYW55X2lkID0gJyIuJGNvbXBhbnlfaWQuIicgQU5EIHJlZmVyZW5jZSBsaWtlICclJHJlZmVyZWNlJScgT1JERVIgQlkgcmVmZXJlbmNlIEFTQyBMSU1JVCAxMCI7DQogICAgJHByb2R1Y3QgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NoZWNrb3V0KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcm9kdWN0KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOyAgICANCn0NCg0KLy9BdXRvIEN1c3RvbWVyDQpmdW5jdGlvbiBBdXRvQ3VzdG9tZXIoJGN1c3RvbWVyX25hbWUpDQp7DQogICAgJHNlbGVjdF9jaGVja291dCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jb21wYW55IFdIRVJFIGNvbXBfbmFtZSBsaWtlICclJGN1c3RvbWVyX25hbWUlJyBPUkRFUiBCWSBjb21wX25hbWUgQVNDIjsNCiAgICAkcHJvZHVjdCA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfY2hlY2tvdXQpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByb2R1Y3QpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7ICAgIA0KfQ0KDQpmdW5jdGlvbiBPcmREZXRhaWxzKCRpZCkgew0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX29yZGVyX21hc3RlciBXSEVSRSBpZCA9ICciLiRpZC4iJyIgOw0KICAgICRwcmljZSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3Rfb3JkZXJzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcmljZSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gQWRkcmVzc0Jvb2tDb21wYW55KCRpZCl7DQogICAgJGFkZHJlc3NfYm9vayA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19hZGRyZXNzIFdIRVJFIGNvbXBfaWQgPSAnIi4kaWQuIiciIDsNCiAgICAkYm9vayA9IG15c3FsX3F1ZXJ5KCRhZGRyZXNzX2Jvb2spOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGJvb2spKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7ICANCn0NCg0KZnVuY3Rpb24gQWRkcmVzc0Jvb2tDb21wYW55U2VydmljZSgkaWQpew0KICAgICRhZGRyZXNzX2Jvb2sgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fYWRkcmVzc19zZXJ2aWNlIFdIRVJFIGNvbXBfaWQgPSAnIi4kaWQuIicgT1JERVIgQlkgY29tcGFueV9uYW1lIEFTQyIgOw0KICAgICRib29rID0gbXlzcWxfcXVlcnkoJGFkZHJlc3NfYm9vayk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkYm9vaykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsgIA0KfQ0KDQpmdW5jdGlvbiBBZGRyZXNzQm9va0NvbXBhbnlTZXJ2aWNlX29wdGlvbjIoJGlkKXsNCiAgICAkYWRkcmVzc19ib29rID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2FkZHJlc3Nfc2VydmljZSBXSEVSRSBpZCA9ICciLiRpZC4iJyIgOw0KICAgICRib29rID0gbXlzcWxfcXVlcnkoJGFkZHJlc3NfYm9vayk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkYm9vaykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsgIA0KfQ0KDQpmdW5jdGlvbiBTZWxlY3RMYXN0RW50ZXJlZEFkZHJlc3MoJGlkKXsNCiAgICAkYWRkcmVzc19ib29rID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2FkZHJlc3Nfc2VydmljZSBXSEVSRSBpZCA9ICciLiRpZC4iJyIgOw0KICAgICRib29rID0gbXlzcWxfcXVlcnkoJGFkZHJlc3NfYm9vayk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkYm9vaykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsgIA0KfQ0KDQoNCmZ1bmN0aW9uIENvbXBJZEZyb21BZGRyZXNzKCRjdXNfaWQpIHsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2FkZHJlc3MgV0hFUkUgaWQgPSAnIi4kY3VzX2lkLiInICI7DQogICAgJG51bWJlciA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfY2F0ZWdvcnkpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkbnVtYmVyKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ2NvbXBfaWQnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQoNCmZ1bmN0aW9uIGNoZWNrTXVsdGkoJG9yZF9pZCwkc2hpcF9pZCl7DQogICAgJGFkZHJlc3NfYm9vayA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19tdWx0aV9zaGlwcGluZyBXSEVSRSBvcmRlcl9pZCA9ICciLiRvcmRfaWQuIicgQU5EIHNoaXBwaW5nX2lkID0gJyIuJHNoaXBfaWQuIicgIiA7DQogICAgJGJvb2sgPSBteXNxbF9xdWVyeSgkYWRkcmVzc19ib29rKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRib29rKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOyANCn0NCg0KDQpmdW5jdGlvbiBTZWxlY3RQcm9NYXN0KCRvcmRfaWQpew0KICAgICRhZGRyZXNzX2Jvb2sgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcHJvZHVjdF9tYXN0ZXIgV0hFUkUgb3JkZXJfaWQgPSAnIi4kb3JkX2lkLiInICIgOw0KICAgICRib29rID0gbXlzcWxfcXVlcnkoJGFkZHJlc3NfYm9vayk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkYm9vaykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsgDQp9DQoNCmZ1bmN0aW9uIEdldE9yZElkZnJvbVByb2RNYXN0KCRpZCl7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wcm9kdWN0X21hc3RlciBXSEVSRSBpZCA9ICciLiRpZC4iJyAiOw0KICAgICRudW1iZXIgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2NhdGVnb3J5KTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJG51bWJlcik7DQogICAgJGNhdGcgPSAkb2JqZWN0WydvcmRlcl9pZCddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIE11bHRpU2hpcHBpbmdBZGRyZXNzKCRPcmRlcl9pZCkgew0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX211bHRpX3NoaXBwaW5nIFdIRVJFIG9yZGVyX2lkID0gJyIuJE9yZGVyX2lkLiInICIgOw0KICAgICRkZXRhaWxzICAgICAgID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9vcmRlcnMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGRldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gQ0hFQ0tGQVYoJGNvbXBfaWQsJHByb2R1Y3RfaWQpIHsNCiAgICAkc2VsZWN0X2ZhdiA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19mYXZvcml0ZXMgV0hFUkUgY29tcF9pZCA9ICciLiRjb21wX2lkLiInIEFORCBwcm9kdWN0X2lkID0gJyIuJHByb2R1Y3RfaWQuIicgIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2Zhdik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gQUxMRkFWKCRjb21wX2lkKSB7DQogICAgJHNlbGVjdF9mYXYgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fZmF2b3JpdGVzIFdIRVJFIGNvbXBfaWQgPSAnIi4kY29tcF9pZC4iJyBPUkRFUiBCWSBzb3J0X2lkIEFTQyIgOw0KICAgICRkZXRhaWxzICAgICAgID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9mYXYpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGRldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KDQpmdW5jdGlvbiBQaWNrdXAoKXsNCiAgICAkc2VsZWN0X2NhdGVnb3J5ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3BpY2t1cF9hZGQgIjsNCiAgICAkbnVtYmVyID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRudW1iZXIpOw0KICAgICRjYXRnID0gJG9iamVjdFsnYWRkcmVzcyddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIEJpbGxpbmdBZGRyZXNzU2hpcHBJZCgkaWQpew0KICAgICRzZWxlY3RfbWFpbCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19hZGRyZXNzIFdIRVJFIGNvbXBfaWQgPSAnJGlkJyBBTkQgdHlwZSA9JzEnICI7DQogICAgJG51bWJlciA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfbWFpbCk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRudW1iZXIpOw0KICAgICRjYXRnID0gJG9iamVjdFsnaWQnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQoNCmZ1bmN0aW9uIFJlZmVyZW5jZUZvckludm9pY2UoJG9yZGVyX2lkKXsNCiAgICAkc2VsZWN0X21haWwgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fb3JkZXJfbWFzdGVyIFdIRVJFIGlkID0gJyRvcmRlcl9pZCcgIjsNCiAgICAkbnVtYmVyID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9tYWlsKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJG51bWJlcik7DQogICAgJGNhdGcgPSAkb2JqZWN0WydvcmRlcl9pZCddOyANCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIEdldFByaWNlRm9yRmF2KCRwcm9kX2lkKXsNCiAgICAkc2VsZWN0X21haWwgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcHJvZHVjdHMgV0hFUkUgaWQgPSAnJHByb2RfaWQnICI7DQogICAgJG51bWJlciA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfbWFpbCk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRudW1iZXIpOw0KICAgICRjYXRnID0gJG9iamVjdFsncHJpY2UnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBHZXRTcGxGYXYoJHVzcl9pZCwkcHJvZF9pZCl7DQogICAgJHNlbGVjdF9tYWlsID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3NwZWNpYWxfcHJpY2luZyBXSEVSRSBzcF91c2VyX2lkID0gJyR1c3JfaWQnIEFORCBzcF9wcm9kdWN0X2lkID0gJyRwcm9kX2lkJyAiOw0KICAgICRudW1iZXIgPSBteXNxbF9xdWVyeSgkc2VsZWN0X21haWwpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkbnVtYmVyKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ3NwX3NwZWNpYWxfcHJpY2UnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQoNCmZ1bmN0aW9uIHRvdGFsQ2FydGZhdigkaXApIHsNCiAgICAkc2VsZWN0X3ByaWNlID0gIlNFTEVDVCBzdW0ocXVhbnRpdHkpIGFzIGNhcnQgRlJPTSBzb2hvcmVwcm9fY2hlY2tvdXRfZ3Vlc3QgV0hFUkUgaXAgPSAnIi4kaXAuIiciIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3ByaWNlKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByaWNlKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ2NhcnQnXTsNCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIHRvdGFsT3JkZXJmYXYoJGlwKSB7DQogICAgJHNlbGVjdF9wcmljZSA9ICJTRUxFQ1Qgc3VtKHF1YW50aXR5ICogdW5pdF9wcmljZSkgYXMgc3ViX3RvdGFsIEZST00gc29ob3JlcHJvX2NoZWNrb3V0X2d1ZXN0IFdIRVJFIGlwID0gJyIuJGlwLiInIiA7DQogICAgJHByaWNlID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9wcmljZSk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcmljZSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydzdWJfdG90YWwnXTsNCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCg0KZnVuY3Rpb24gQ2hlY2tEZWxJdGVtKCRpZCkgew0KICAgICRzZWxlY3RfcHJpY2UgPSAiU0VMRUNUIGRlbGV0ZV9pZCBGUk9NIHNvaG9yZXByb19mYXZvcml0ZXMgV0hFUkUgaWQgPSAnIi4kaWQuIiciIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3ByaWNlKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByaWNlKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ2RlbGV0ZV9pZCddOw0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gQ291bnRGYXZDb21wKCRjb21wX2lkKSB7DQogICAgJHNlbGVjdF9mYXYgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fZmF2b3JpdGVzIFdIRVJFIGNvbXBfaWQgPSAnIi4kY29tcF9pZC4iJyBBTkQgZGVsZXRlX2lkID0gJzEnICIgOw0KICAgICRkZXRhaWxzICAgICAgID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9mYXYpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGRldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIEFsbFNldFBsb3R0aW5mKCRjb21wX2lkKSB7DQogICAgJHNlbGVjdF9mYXYgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcGxvdHRpbmdfc2V0IFdIRVJFIGNvbXBhbnlfaWQgPSAnIi4kY29tcF9pZC4iJyAiIDsNCiAgICAkZGV0YWlscyAgICAgICA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfZmF2KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRkZXRhaWxzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBSZWZlcmVuY2VOYW1lKCRpZCkgew0KICAgICRzZWxlY3RfcHJpY2UgPSAiU0VMRUNUIHJlZmVyZW5jZSBGUk9NIHNvaG9yZXByb19yZWZlcmVuY2UgV0hFUkUgaWQgPSAnIi4kaWQuIiciIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3ByaWNlKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByaWNlKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ3JlZmVyZW5jZSddOw0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gU2V0c0Zvck9yZGVyKCRvcmRlcl9pZCkgew0KICAgICRzZWxlY3RfZmF2ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3Bsb3R0aW5nX3NldCBXSEVSRSBvcmRlcl9pZCA9ICciLiRvcmRlcl9pZC4iJyAiIDsNCiAgICAkZGV0YWlscyAgICAgICA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfZmF2KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRkZXRhaWxzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBTZXRzRm9yT3JkZXJDYXJ0KCR1c2VyX2lkKSB7DQogICAgJHNlbGVjdF9mYXYgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcGxvdHRpbmdfc2V0IFdIRVJFIHVzZXJfaWQgPSAnIi4kdXNlcl9pZC4iJyBBTkQgb3JkZXJfaWQgPSAnMCcgIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2Zhdik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gQ2hlY2tFeGlzdERheU9mZigkb2ZmX2RheV9pbnNlcnQpIHsNCiAgICAkc2VsZWN0X2ZhdiA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19kYXlfb2ZmIFdIRVJFIGRhdGUgPSAnIi4kb2ZmX2RheV9pbnNlcnQuIicgIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2Zhdik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gQWxsRGF5T2ZmKCkgew0KICAgICRzZWxlY3RfZmF2ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2RheV9vZmYgIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2Zhdik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gRW50ZXJlZFBsb3QoJGNvbXBfaWQsICR1c2VyX2lkKSB7DQogICAgJHNlbGVjdF9mYXYgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcGxvdHRpbmdfc2V0IFdIRVJFIGNvbXBhbnlfaWQgPSAnIi4kY29tcF9pZC4iJyBBTkQgdXNlcl9pZCA9ICciLiR1c2VyX2lkLiInIEFORCBvcmRlcl9pZCA9ICcwJyAiIDsNCiAgICAkZGV0YWlscyAgICAgICA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfZmF2KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRkZXRhaWxzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBFbnRlcmVkUGxvdFJlY2lwaWVudHMoJGNvbXBfaWQsICR1c2VyX2lkKSB7DQogICAgJHNlbGVjdF9mYXYgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcGxvdHRpbmdfc2V0IFdIRVJFIGNvbXBhbnlfaWQgPSAnIi4kY29tcF9pZC4iJyBBTkQgdXNlcl9pZCA9ICciLiR1c2VyX2lkLiInIEFORCBvcmRlcl9pZCA9ICcwJyBPUkRFUiBCWSBwbG90X2FyY2ggREVTQyIgOw0KICAgICRkZXRhaWxzICAgICAgID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9mYXYpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGRldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIEVudGVyZWRQbG90UmVjaXBpZW50c1RvdGFsT3B0aW9ucygkY29tcF9pZCwgJHVzZXJfaWQpIHsNCiAgICAkc2VsZWN0X2ZhdiA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wbG90dGluZ19zZXQgV0hFUkUgY29tcGFueV9pZCA9ICciLiRjb21wX2lkLiInIEFORCB1c2VyX2lkID0gJyIuJHVzZXJfaWQuIicgQU5EIG9yZGVyX2lkID0gJzAnIE9SREVSIEJZIGlkIERFU0MiIDsNCiAgICAkZGV0YWlscyAgICAgICA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfZmF2KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRkZXRhaWxzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBFbnRlcmVkUGxvdFJlY2lwaWVudHNNdWx0aSgkY29tcF9pZCwgJHVzZXJfaWQsICRvcmRlcl9pZCkgew0KICAgICRzZWxlY3RfZmF2ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3Bsb3R0aW5nX3NldCBXSEVSRSBjb21wYW55X2lkID0gJyIuJGNvbXBfaWQuIicgQU5EIHVzZXJfaWQgPSAnIi4kdXNlcl9pZC4iJyBBTkQgcmVmZXJlY2VfaWQgPSAnIi4kb3JkZXJfaWQuIicgQU5EIG9yZGVyX2lkID0gJzAnIE9SREVSIEJZIHBsb3RfYXJjaCBERVNDIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2Zhdik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gRW50ZXJlZFBsb3RSZWNpcGllbnRzTXVsdGlPcmlnaW5hbCgkY29tcF9pZCwgJHVzZXJfaWQsICRvcmRlcl9pZCkgew0KICAgICRzZWxlY3RfZmF2ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3Bsb3R0aW5nX3NldCBXSEVSRSBjb21wYW55X2lkID0gJyIuJGNvbXBfaWQuIicgQU5EIHVzZXJfaWQgPSAnIi4kdXNlcl9pZC4iJyBBTkQgb3JkZXJfaWQgPSAnIi4kb3JkZXJfaWQuIicgT1JERVIgQlkgcGxvdF9hcmNoIERFU0MiIDsNCiAgICAkZGV0YWlscyAgICAgICA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfZmF2KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRkZXRhaWxzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBFbnRlcmVkU2V0c0FsbCgkb3B0aW9uX2lkLCRjb21wX2lkLCAkdXNlcl9pZCkgew0KICAgICRzZWxlY3RfcHJpY2UgPSAiU0VMRUNUIFNVTShwbG90X25lZWRlZCkgYXMgbmVlZGVkX3Bsb3QgRlJPTSBzb2hvcmVwcm9fc2V0c19uZWVkZWQgV0hFUkUgb3B0aW9uX2lkID0gJyIuICRvcHRpb25faWQgLiInIEFORCBjb21wX2lkID0gJyIuJGNvbXBfaWQuIicgQU5EIHVzcl9pZCA9ICciLiR1c2VyX2lkLiInIEFORCBvcmRlcl9pZCA9ICcwJyAiIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3ByaWNlKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByaWNlKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ25lZWRlZF9wbG90J107DQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBFbnRlcmVkU2V0c0FsbEFyY2goJG9wdGlvbl9pZCwkY29tcF9pZCwgJHVzZXJfaWQpIHsNCiAgICAkc2VsZWN0X3ByaWNlID0gIlNFTEVDVCBTVU0oYXJjaF9uZWVkZWQpIGFzIG5lZWRlZF9wbG90IEZST00gc29ob3JlcHJvX3NldHNfbmVlZGVkIFdIRVJFIG9wdGlvbl9pZCA9ICciLiAkb3B0aW9uX2lkIC4iJyBBTkQgY29tcF9pZCA9ICciLiRjb21wX2lkLiInIEFORCB1c3JfaWQgPSAnIi4kdXNlcl9pZC4iJyBBTkQgb3JkZXJfaWQgPSAnMCcgIiA7DQogICAgJHByaWNlID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9wcmljZSk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcmljZSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WyduZWVkZWRfcGxvdCddOw0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gRW50ZXJlZFBsb3R0dGluZ1ByaW1hcnkoJGNvbXBfaWQsICR1c2VyX2lkKSB7DQogICAgJHNlbGVjdF9mYXYgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcGxvdHRpbmdfc2V0IFdIRVJFIGNvbXBhbnlfaWQgPSAnIi4kY29tcF9pZC4iJyBBTkQgdXNlcl9pZCA9ICciLiR1c2VyX2lkLiInIEFORCBvcmRlcl9pZCA9ICcwJyIgOw0KICAgICRkZXRhaWxzICAgICAgID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9mYXYpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGRldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIEVudGVyZWRQbG90dHRpbmdQcmltYXJ5MTkoJGNvbXBfaWQsICR1c2VyX2lkKSB7DQogICAgJHNlbGVjdF9wcmljZSA9ICJTRUxFQ1QgU1VNKHByaW50X2VhKSBhcyBuZWVkZWQgRlJPTSBzb2hvcmVwcm9fcGxvdHRpbmdfc2V0IFdIRVJFIGNvbXBhbnlfaWQgPSAnIi4kY29tcF9pZC4iJyBBTkQgdXNlcl9pZCA9ICciLiR1c2VyX2lkLiInIEFORCBvcmRlcl9pZCA9ICcwJyAiIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3ByaWNlKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByaWNlKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ25lZWRlZCddOw0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gRW50ZXJlZFBsb3R0dGluZ1ByaW1hcnkxOTUoJGNvbXBfaWQsICR1c2VyX2lkLCAkaWQpIHsNCiAgICAkc2VsZWN0X3ByaWNlID0gIlNFTEVDVCBTVU0ocHJpbnRfZWEpIGFzIG5lZWRlZCBGUk9NIHNvaG9yZXByb19wbG90dGluZ19zZXQgV0hFUkUgY29tcGFueV9pZCA9ICciLiRjb21wX2lkLiInIEFORCB1c2VyX2lkID0gJyIuJHVzZXJfaWQuIicgQU5EIGlkID0gJyIuJGlkLiInIEFORCBvcmRlcl9pZCA9ICcwJyAiIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3ByaWNlKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByaWNlKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ25lZWRlZCddOw0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gRW50ZXJlZFBsb3R0dGluZ1ByaW1hcnkxOTU3KCRjb21wX2lkLCAkdXNlcl9pZCwgJG9wdGlvbl9pZCkgew0KICAgICRzZWxlY3RfcHJpY2UgPSAiU0VMRUNUIFNVTShwcmludF9lYSkgYXMgbmVlZGVkIEZST00gc29ob3JlcHJvX3Bsb3R0aW5nX3NldCBXSEVSRSBjb21wYW55X2lkID0gJyIuJGNvbXBfaWQuIicgQU5EIHVzZXJfaWQgPSAnIi4kdXNlcl9pZC4iJyBBTkQgb3B0aW9ucyA9ICciLiRvcHRpb25faWQuIicgQU5EIG9yZGVyX2lkID0gJzAnICIgOw0KICAgICRwcmljZSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJpY2UpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJpY2UpOw0KICAgICRjYXRnID0gJG9iamVjdFsnbmVlZGVkJ107DQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBBdmxPcHRpb25zUmVtYWluaW5nMTkoJGNvbXBfaWQsICR1c2VyX2lkKSB7DQogICAgJHNlbGVjdF9wcmljZSA9ICJTRUxFQ1QgKFNVTShwbG90X25lZWRlZCkrU1VNKGFyY2hfbmVlZGVkKSkgYXMgZW50ZXJlZCBGUk9NIHNvaG9yZXByb19zZXRzX25lZWRlZCBXSEVSRSBjb21wX2lkID0gJyIuJGNvbXBfaWQuIicgQU5EIHVzcl9pZCA9ICciLiR1c2VyX2lkLiInIEFORCBvcmRlcl9pZCA9ICcwJyAiIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3ByaWNlKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByaWNlKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ2VudGVyZWQnXTsNCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIExhc3RPcmRlcklkKCRjb21wX2lkLCAkdXNlcl9pZCkgew0KICAgICRzZWxlY3RfcHJpY2UgPSAiU0VMRUNUIG9wdGlvbnMgRlJPTSBzb2hvcmVwcm9fcGxvdHRpbmdfc2V0IFdIRVJFIGNvbXBhbnlfaWQgPSAnIi4kY29tcF9pZC4iJyBBTkQgdXNlcl9pZCA9ICciLiR1c2VyX2lkLiInIEFORCBvcmRlcl9pZCA9ICcwJyBPUkRFUiBCWSBvcHRpb25zIERFU0MiIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3ByaWNlKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByaWNlKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ29wdGlvbnMnXTsNCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIFVwbG9hZEZpbGVFeGlzdCgkY29tcF9pZCwgJHVzcl9pZCl7DQogICAgJHNlbGVjdF9mYXYgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fdXBsb2FkX2ZpbGVzX3NldCBXSEVSRSBjb21wX2lkID0gJyIuJGNvbXBfaWQuIicgQU5EIHVzZXJfaWQgPSAnIi4kdXNyX2lkLiInIEFORCBvcmRlcl9pZCA9ICcwJyAiIDsNCiAgICAkZGV0YWlscyAgICAgICA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfZmF2KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRkZXRhaWxzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBVcGxvYWRGaWxlRXhpc3RGaW5hbGl6ZSgkY29tcF9pZCwgJHVzcl9pZCwgJG9yZGVyX2lkKXsNCiAgICAkc2VsZWN0X2ZhdiA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb191cGxvYWRfZmlsZXNfc2V0IFdIRVJFIGNvbXBfaWQgPSAnIi4kY29tcF9pZC4iJyBBTkQgdXNlcl9pZCA9ICciLiR1c3JfaWQuIicgQU5EIG9yZGVyX2lkID0gJyIuJG9yZGVyX2lkLiInICIgOw0KICAgICRkZXRhaWxzICAgICAgID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9mYXYpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGRldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIFVwbG9hZkZpbGVzU2VydmljZXMoJG9yZGVyX2lkKXsNCiAgICAkc2VsZWN0X2ZhdiA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb191cGxvYWRfZmlsZXNfc2V0IFdIRVJFIG9yZGVyX2lkID0gJyIuJG9yZGVyX2lkLiInICIgOw0KICAgICRkZXRhaWxzICAgICAgID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9mYXYpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGRldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gRW50ZXJlZFBsb3RSZWNpcGllbnRzQ291bnQoJGNvbXBfaWQsICR1c2VyX2lkLCR0eXBlKSB7DQogICAgJHNlbGVjdF9mYXYgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcGxvdHRpbmdfc2V0IFdIRVJFIGNvbXBhbnlfaWQgPSAnIi4kY29tcF9pZC4iJyBBTkQgdXNlcl9pZCA9ICciLiR1c2VyX2lkLiInIEFORCBvcmRlcl9pZCA9ICcwJyBBTkQgcGxvdF9hcmNoID0gJyIuJHR5cGUuIicgIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2Zhdik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gUGxvdFNldHNOZWVkZWQoJGNvbXBfaWQsICR1c2VyX2lkKSB7DQogICAgJHNlbGVjdF9wcmljZSA9ICJTRUxFQ1QgU1VNKHBsb3RfbmVlZGVkKSBhcyBuZWVkZWRfcGxvdCBGUk9NIHNvaG9yZXByb19zZXRzX25lZWRlZCBXSEVSRSBjb21wX2lkID0gJyIuJGNvbXBfaWQuIicgQU5EIHVzcl9pZCA9ICciLiR1c2VyX2lkLiInIEFORCBvcmRlcl9pZCA9ICcwJyAiIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3ByaWNlKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByaWNlKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ25lZWRlZF9wbG90J107DQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBQbG90U2V0c05lZWRlZE5ldygkY29tcF9pZCwgJHVzZXJfaWQsICRvcHRpb25faWQpIHsNCiAgICAkc2VsZWN0X3ByaWNlID0gIlNFTEVDVCBTVU0ocGxvdF9uZWVkZWQpIGFzIG5lZWRlZF9wbG90IEZST00gc29ob3JlcHJvX3NldHNfbmVlZGVkIFdIRVJFIGNvbXBfaWQgPSAnIi4kY29tcF9pZC4iJyBBTkQgdXNyX2lkID0gJyIuJHVzZXJfaWQuIicgQU5EIG9wdGlvbl9pZCA9ICciLiRvcHRpb25faWQuIicgQU5EIG9yZGVyX2lkID0gJzAnICIgOw0KICAgICRwcmljZSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJpY2UpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJpY2UpOw0KICAgICRjYXRnID0gJG9iamVjdFsnbmVlZGVkX3Bsb3QnXTsNCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIEFyY2hTZXRzTmVlZGVkKCRjb21wX2lkLCAkdXNlcl9pZCkgew0KICAgICRzZWxlY3RfcHJpY2UgPSAiU0VMRUNUIFNVTShhcmNoX25lZWRlZCkgYXMgbmVlZGVkX2FyY2ggRlJPTSBzb2hvcmVwcm9fc2V0c19uZWVkZWQgV0hFUkUgY29tcF9pZCA9ICciLiRjb21wX2lkLiInIEFORCB1c3JfaWQgPSAnIi4kdXNlcl9pZC4iJyAgQU5EIG9yZGVyX2lkID0gJzAnICIgOw0KICAgICRwcmljZSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJpY2UpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJpY2UpOw0KICAgICRjYXRnID0gJG9iamVjdFsnbmVlZGVkX2FyY2gnXTsNCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIEFyY2hTZXRzTmVlZGVkTmV3KCRjb21wX2lkLCAkdXNlcl9pZCwgJG9wdGlvbl9pZCkgew0KICAgICRzZWxlY3RfcHJpY2UgPSAiU0VMRUNUIFNVTShhcmNoX25lZWRlZCkgYXMgbmVlZGVkX2FyY2ggRlJPTSBzb2hvcmVwcm9fc2V0c19uZWVkZWQgV0hFUkUgY29tcF9pZCA9ICciLiRjb21wX2lkLiInIEFORCB1c3JfaWQgPSAnIi4kdXNlcl9pZC4iJyBBTkQgb3B0aW9uX2lkID0gJyIuJG9wdGlvbl9pZC4iJyAgQU5EIG9yZGVyX2lkID0gJzAnICIgOw0KICAgICRwcmljZSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJpY2UpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJpY2UpOw0KICAgICRjYXRnID0gJG9iamVjdFsnbmVlZGVkX2FyY2gnXTsNCiAgICByZXR1cm4gJGNhdGc7DQp9DQoNCmZ1bmN0aW9uIENoZWNrU2VyaWFscygkY29tcF9pZCwgJHVzZXJfaWQsJHNlcmlhbCkgew0KICAgICRzZWxlY3RfZmF2ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3Bsb3R0aW5nX3NldCBXSEVSRSBjb21wYW55X2lkID0gJyIuJGNvbXBfaWQuIicgQU5EIHVzZXJfaWQgPSAnIi4kdXNlcl9pZC4iJyBBTkQgc2V0X3NlcmlhbCA9ICciLiRzZXJpYWwuIicgIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2Zhdik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQpmdW5jdGlvbiBOZWVkZWRTZXRzKCRjb21wX2lkLCAkdXNlcl9pZCkgew0KICAgICRzZWxlY3RfZmF2ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3NldHNfbmVlZGVkIFdIRVJFIGNvbXBfaWQgPSAnIi4kY29tcF9pZC4iJyBBTkQgdXNyX2lkID0gJyIuJHVzZXJfaWQuIicgQU5EIG9yZGVyX2lkID0gJzAnICIgOw0KICAgICRkZXRhaWxzICAgICAgID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9mYXYpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGRldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIE5lZWRlZFNldHNfb3B0aW9uXzQoJGlkKSB7DQogICAgJHNlbGVjdF9mYXYgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fc2V0c19uZWVkZWQgV0hFUkUgaWQgPSAnIi4kaWQuIicgQU5EIG9yZGVyX2lkID0gJzAnICIgOw0KICAgICRkZXRhaWxzICAgICAgID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9mYXYpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGRldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIE5lZWRlZFNldHNEeW5hbWljKCRjb21wX2lkLCAkdXNlcl9pZCwgJG9wdGlvbl9pZCkgew0KICAgICRzZWxlY3RfZmF2ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3NldHNfbmVlZGVkIFdIRVJFIGNvbXBfaWQgPSAnIi4kY29tcF9pZC4iJyBBTkQgdXNyX2lkID0gJyIuJHVzZXJfaWQuIicgQU5EIG9wdGlvbl9pZCA9ICciLiRvcHRpb25faWQuIicgQU5EIG9yZGVyX2lkID0gJzAnICIgOw0KICAgICRkZXRhaWxzICAgICAgID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9mYXYpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGRldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIEVkaXROZWVkZWRTZXRzKCRjb21wX2lkLCAkdXNlcl9pZCwkZWRpdF9pZCkgew0KICAgICRzZWxlY3RfZmF2ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3NldHNfbmVlZGVkIFdIRVJFIGNvbXBfaWQgPSAnIi4kY29tcF9pZC4iJyBBTkQgdXNyX2lkID0gJyIuJHVzZXJfaWQuIicgQU5EIGlkID0gJyIuJGVkaXRfaWQuIicgIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2Zhdik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gQ3VzdG9tZXJzT3Blbk9yZGVycygpIHsgICAgICAgDQogICAgJHNlbGVjdF91c2VycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jb21wYW55IFdIRVJFIGFyY2hpdmUgPSAnMCcgT1JERVIgQlkgY29tcF9uYW1lIEFTQyI7ICAgICAgICAgDQogICAgJHVzZXJzX2xpc3QgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3VzZXJzKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCR1c2Vyc19saXN0KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQoNCmZ1bmN0aW9uIFJlZmVyZW5jZVZpYU9yZGVyKCRvcmRlcl9pZF9maW5hbCl7DQogICAgJHNlbGVjdF9tYWlsID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX29yZGVyX21hc3RlciBXSEVSRSBpZCA9ICckb3JkZXJfaWRfZmluYWwnICI7DQogICAgJG51bWJlciA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfbWFpbCk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRudW1iZXIpOw0KICAgICRjYXRnID0gJG9iamVjdFsnb3JkZXJfaWQnXTsgDQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQoNCmZ1bmN0aW9uIEdldEN1c01hbmFnZXIoJGN1c19pZCl7DQogICAgJHNlbGVjdF9tYWlsID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2N1c3RvbWVycyBXSEVSRSBjdXNfY29tcG5hbWUgPSAnJGN1c19pZCcgQU5EIGN1c19tYW5hZ2VyID0gJzEnICI7DQogICAgJG51bWJlciA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfbWFpbCk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRudW1iZXIpOw0KICAgICRjYXRnID0gJG9iamVjdFsnY3VzX2lkJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KZnVuY3Rpb24gTmVlZGVkU2V0c09yZGVyZWQoJGNvbXBfaWQsICR1c2VyX2lkKSB7DQogICAgJHNlbGVjdF9mYXYgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fc2V0c19uZWVkZWQgV0hFUkUgY29tcF9pZCA9ICciLiRjb21wX2lkLiInIEFORCB1c3JfaWQgPSAnIi4kdXNlcl9pZC4iJyBBTkQgb3JkZXJlZCA9ICcwJyAiIDsNCiAgICAkZGV0YWlscyAgICAgICA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfZmF2KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRkZXRhaWxzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQoNCmZ1bmN0aW9uIFNob3dPcmRlcmVkU2V0cygkb3JkZXJlX3NlcXVlbmNlKSB7DQogICAkc2VsZWN0X2ZhdiA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19vcmRlcl9tYXN0ZXJfc2VydmljZSBXSEVSRSBpZCA9ICciLiRvcmRlcmVfc2VxdWVuY2UuIiciIDsNCiAgICAkZGV0YWlscyAgICAgICA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfZmF2KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRkZXRhaWxzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBTZXRzT3JkZXJlZEZpbmFsaXplKCRvcmRlcmVfaWQpIHsNCiAgICAkc2VsZWN0X2ZhdiA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19zZXRzX25lZWRlZCBXSEVSRSBvcmRlcl9pZCA9ICciLiRvcmRlcmVfaWQuIiciIDsNCiAgICAkZGV0YWlscyAgICAgICA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfZmF2KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRkZXRhaWxzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBTZXRzT3JkZXJlZEZpbmFsaXplT3JpZ2luYWwoJG9yZGVyZV9pZCkgew0KICAgICRzZWxlY3RfZmF2ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3Bsb3R0aW5nX3NldCBXSEVSRSBvcmRlcl9pZCA9ICciLiRvcmRlcmVfaWQuIiciIDsNCiAgICAkZGV0YWlscyAgICAgICA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfZmF2KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRkZXRhaWxzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBBdXRvUG9wVXAoJG9yZGVyZV9pZCkgew0KICAgICRzZWxlY3RfZmF2ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3Bsb3R0aW5nX3NldCBXSEVSRSAoKG9yZGVyX2lkID0gJyIuJG9yZGVyZV9pZC4iJyBBTkQgcGlja191cCAhPSAnMCcpIE9SICgob3JkZXJfaWQgPSAnIi4kb3JkZXJlX2lkLiInIEFORCBkcm9wX29mZiAhPSAnMCcpKSApIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2Zhdik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gU2V0c09yZGVyZWRGaW5hbGl6ZUNvdW50T2ZTZXRzKCRvcmRlcmVfaWQpIHsNCiAgICAkc2VsZWN0X2ZhdiA9ICJTRUxFQ1Qgc3VtKHBsb3RfbmVlZGVkKSBhcyB0b3RhbF9zZXRzIEZST00gc29ob3JlcHJvX3NldHNfbmVlZGVkIFdIRVJFIG9yZGVyX2lkID0gJyIuJG9yZGVyZV9pZC4iJyIgOw0KICAgICRkZXRhaWxzICAgICAgID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9mYXYpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGRldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIFNldHNPcmRlcmVkRmluYWxpemVDb3VudE9mU2V0c0FyY2goJG9yZGVyZV9pZCkgew0KICAgICRzZWxlY3RfZmF2ID0gIlNFTEVDVCBzdW0oYXJjaF9uZWVkZWQpIGFzIHRvdGFsX3NldHMgRlJPTSBzb2hvcmVwcm9fc2V0c19uZWVkZWQgV0hFUkUgb3JkZXJfaWQgPSAnIi4kb3JkZXJlX2lkLiInIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2Zhdik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gU2V0c09yZGVyZWRGaW5hbGl6ZUNvdW50T2ZTZXRzQ3VzdG9tZXIoJGNvbXBfaWQsICR1c2VyX2lkKSB7DQogICAgJHNlbGVjdF9mYXYgPSAiU0VMRUNUIHN1bShwbG90X25lZWRlZCkgYXMgdG90YWxfc2V0cyBGUk9NIHNvaG9yZXByb19zZXRzX25lZWRlZCBXSEVSRSBjb21wX2lkID0gJyIuJGNvbXBfaWQuIicgQU5EIHVzcl9pZCA9ICciLiR1c2VyX2lkLiInIEFORCBvcmRlcl9pZCA9ICcwJyIgOw0KICAgICRkZXRhaWxzICAgICAgID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9mYXYpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGRldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCg0KZnVuY3Rpb24gU2VsZWN0RmVlZGJhY2soJGZlZWRiYWNrX2lkKSB7DQogICAgJHNlbGVjdF9mYXYgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fZmVlZGJhY2sgV0hFUkUgaWQgPSAnIi4kZmVlZGJhY2tfaWQuIiciIDsNCiAgICAkZGV0YWlscyAgICAgICA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfZmF2KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRkZXRhaWxzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQoNCmZ1bmN0aW9uIEdldFVzZXJEZXRhaWxzKCRjb21wX2lkLCAkdXNlcl9lbWFpbCkgew0KICAgICRzZWxlY3RfZmF2ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2N1c3RvbWVycyBXSEVSRSBjdXNfY29tcG5hbWUgPSAnIi4kY29tcF9pZC4iJyBBTkQgY3VzX2VtYWlsID0gJyIuJHVzZXJfZW1haWwuIicgIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2Zhdik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQpmdW5jdGlvbiBHZXRGYXZQcm9kdWN0RGV0YWlscygkaWQpIHsNCiAgICAkc2VsZWN0X2ZhdiA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19mYXZvcml0ZXMgV0hFUkUgaWQgPSAnIi4kaWQuIicgIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2Zhdik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQpmdW5jdGlvbiBjaGVja2NvbXBfcmVwKCRpZCkgDQogICAgew0KICAgICRzZWxlY3RfbWFpbCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19jb21wYW55X3JlcCBXSEVSRSBjb21wX25hbWUgPSAnJGlkJyAiOw0KICAgICRtYWlsID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9tYWlsKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRtYWlsKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KICAgIH0NCiAgICANCmZ1bmN0aW9uIENoZWNrRGVsaXZlcnlBZGRyZXNzKCRpZCkgDQogICAgew0KICAgICRzZWxlY3RfbWFpbCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19hZGRyZXNzIFdIRVJFIGNvbXBfaWQgPSAnJGlkJyBBTkQgdHlwZT0nMSciOw0KICAgICRtYWlsID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9tYWlsKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRtYWlsKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KICAgIH0gICANCg0KZnVuY3Rpb24gQWRkcmVzc0Jvb2tDb21wYW55UHJpbWFyeSgkaWQpew0KICAgICRhZGRyZXNzX2Jvb2sgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fYWRkcmVzcyBXSEVSRSBjb21wX2lkID0gJyIuJGlkLiInIEFORCB0eXBlID0gJzEnIiA7DQogICAgJGJvb2sgPSBteXNxbF9xdWVyeSgkYWRkcmVzc19ib29rKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRib29rKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOyAgDQp9DQoNCmZ1bmN0aW9uIEFkZHJlc3NCb29rQ29tcGFueVNlbnRUbygkaWQpew0KICAgICRhZGRyZXNzX2Jvb2sgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fYWRkcmVzc19zZXJ2aWNlIFdIRVJFIGlkID0gJyIuJGlkLiInIiA7DQogICAgJGJvb2sgPSBteXNxbF9xdWVyeSgkYWRkcmVzc19ib29rKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRib29rKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOyAgDQp9DQoNCmZ1bmN0aW9uIEFkZHJlc3NCb29rUGlja3VwU29obygkaWQpew0KICAgICRhZGRyZXNzX2Jvb2sgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcGlja3VwX2FkZCBXSEVSRSBpZCA9ICciLiRpZC4iJyIgOw0KICAgICRib29rID0gbXlzcWxfcXVlcnkoJGFkZHJlc3NfYm9vayk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkYm9vaykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsgIA0KfQ0KDQpmdW5jdGlvbiBBZGRyZXNzQm9va1BpY2t1cFNvaG9BbGwoKXsNCiAgICAkYWRkcmVzc19ib29rID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3BpY2t1cF9hZGQgV0hFUkUgY2FwdGlvbiA8PiAxIiA7DQogICAgJGJvb2sgPSBteXNxbF9xdWVyeSgkYWRkcmVzc19ib29rKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRib29rKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOyAgDQp9DQoNCmZ1bmN0aW9uIEFkZHJlc3NCb29rUGlja3VwU29ob0NhcCgkaWQpew0KICAgICRhZGRyZXNzX2Jvb2sgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcGlja3VwX2FkZCBXSEVSRSBjYXBfaWQgPSAnIi4kaWQuIiciIDsNCiAgICAkYm9vayA9IG15c3FsX3F1ZXJ5KCRhZGRyZXNzX2Jvb2spOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGJvb2spKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7ICANCn0NCg0KDQpmdW5jdGlvbiBTZXJ2aWNlU2V0cygkaWQpIHsNCiAgICAkc2VsZWN0X2ZhdiA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19zZXRzX25lZWRlZCBXSEVSRSBvcmRlcl9pZCA9ICciLiRpZC4iJyIgOw0KICAgICRkZXRhaWxzICAgICAgID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9mYXYpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGRldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIFNlbGVjdEludm9pY2VPcmRlcigkaWQsJGNvcG1faWQpIHsNCiAgICAkc2VsZWN0X2ZhdiA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19vcmRlcl9tYXN0ZXIgV0hFUkUgY3VzdG9tZXJfY29tcGFueSA9ICciLiRjb3BtX2lkLiInIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2Zhdik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQovL2NoZWNrIHdpdGhvdXQgb3JkZXIgaWQgcGxvdHRpbmcgc2V0DQpmdW5jdGlvbiBQbG90dGluZ1NldFdpdGhvdXRPcmRlcklkKCRjb21wYW55X2lkLCAkdXNlcl9pZCl7DQogICAgJHBsb3R0aW5nX3NldCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wbG90dGluZ19zZXQgV0hFUkUgY29tcGFueV9pZCA9ICciLiRjb21wYW55X2lkLiInIEFORCB1c2VyX2lkID0gJyIuJHVzZXJfaWQuIicgQU5EIG9yZGVyX2lkID0gJzAnIiA7DQogICAgJHNldCA9IG15c3FsX3F1ZXJ5KCRwbG90dGluZ19zZXQpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHNldCkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsgIA0KfQ0KDQovL2NoZWNrIHdpdGhvdXQgb3JkZXIgaWQgcGxvdHRpbmcgc2V0IG5lZWRlZA0KZnVuY3Rpb24gUGxvdHRpbmdOZWVkZWRTZXRXaXRob3V0T3JkZXJJZCgkY29tcGFueV9pZCwgJHVzZXJfaWQpew0KICAgICRwbG90dGluZ19zZXQgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fc2V0c19uZWVkZWQgV0hFUkUgY29tcF9pZCA9ICciLiRjb21wYW55X2lkLiInIEFORCB1c3JfaWQgPSAnIi4kdXNlcl9pZC4iJyBBTkQgb3JkZXJfaWQgPSAnMCciIDsNCiAgICAkc2V0ID0gbXlzcWxfcXVlcnkoJHBsb3R0aW5nX3NldCk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkc2V0KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOyAgDQp9DQoNCg0KLy9jaGVjayBQcmludCBvZiBlYWNoIE51bGwNCmZ1bmN0aW9uIENoZWNrUGVOdWxsKCRjb21wYW55X2lkLCAkdXNlcl9pZCl7DQogICAgJHBsb3R0aW5nX3NldCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wbG90dGluZ19zZXQgV0hFUkUgY29tcGFueV9pZCA9ICciLiRjb21wYW55X2lkLiInIEFORCB1c2VyX2lkID0gJyIuJHVzZXJfaWQuIicgQU5EIHByaW50X2VhID0gJyciIDsNCiAgICAkc2V0ID0gbXlzcWxfcXVlcnkoJHBsb3R0aW5nX3NldCk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkc2V0KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOyAgDQp9DQoNCi8vQ2hlY2sgT3JkZXIgSUQgRXhpc3QgaW4gSW52b2ljZSBUYWJsZQ0KZnVuY3Rpb24gQ2hlY2tPcmRlcmlkSW52b2ljZSgkb3JkZXJfaWQpew0KICAgICRwbG90dGluZ19zZXQgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9faW52b2ljZSBXSEVSRSBvcmRlcl9pZCA9ICciLiRvcmRlcl9pZC4iJyAiIDsNCiAgICAkc2V0ID0gbXlzcWxfcXVlcnkoJHBsb3R0aW5nX3NldCk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkc2V0KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOyAgDQp9DQoNCi8vQ1VycmVudCBPcHRpb24gDQpmdW5jdGlvbiBDdXJyZW50T3B0aW9uKCRjb21wYW55X2lkLCAkdXNlcl9pZCl7DQogICAgJHBsb3R0aW5nX3NldCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wbG90dGluZ19zZXQgV0hFUkUgY29tcGFueV9pZCA9ICciLiRjb21wYW55X2lkLiInIEFORCB1c2VyX2lkID0gJyIuJHVzZXJfaWQuIicgQU5EIG9yZGVyX2lkID0gJzAnIEFORCByZWNpcGllbnRzX3NldCA9ICcwJyBPUkRFUiBCWSBvcHRpb25zIEFTQyBMSU1JVCAxIiA7DQogICAgJHNldCA9IG15c3FsX3F1ZXJ5KCRwbG90dGluZ19zZXQpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHNldCkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsgIA0KfQ0KDQovL0N1cnJlbnQgT3B0aW9uIEFsbA0KZnVuY3Rpb24gQ3VycmVudE9wdGlvbkFsbCgkY29tcGFueV9pZCwgJHVzZXJfaWQpew0KICAgICRwbG90dGluZ19zZXQgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcGxvdHRpbmdfc2V0IFdIRVJFIGNvbXBhbnlfaWQgPSAnIi4kY29tcGFueV9pZC4iJyBBTkQgdXNlcl9pZCA9ICciLiR1c2VyX2lkLiInIEFORCBvcmRlcl9pZCA9ICcwJyBBTkQgcmVjaXBpZW50c19zZXQgPSAnMCcgT1JERVIgQlkgb3B0aW9ucyBBU0MgTElNSVQgMSIgOw0KICAgICRzZXQgPSBteXNxbF9xdWVyeSgkcGxvdHRpbmdfc2V0KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRzZXQpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7ICANCn0NCg0KLy9BbGwgQ3VycmVudCBPcHRpb24NCmZ1bmN0aW9uIEFsbEN1cnJlbnRPcHRpb24oJGNvbXBhbnlfaWQsICR1c2VyX2lkKXsNCiAgICAkcGxvdHRpbmdfc2V0ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3Bsb3R0aW5nX3NldCBXSEVSRSBjb21wYW55X2lkID0gJyIuJGNvbXBhbnlfaWQuIicgQU5EIHVzZXJfaWQgPSAnIi4kdXNlcl9pZC4iJyBBTkQgb3JkZXJfaWQgPSAnMCcgQU5EIHJlY2lwaWVudHNfc2V0ID0gJzAnIE9SREVSIEJZIG9wdGlvbnMgQVNDIiA7DQogICAgJHNldCA9IG15c3FsX3F1ZXJ5KCRwbG90dGluZ19zZXQpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHNldCkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsgIA0KfQ0KDQoNCmZ1bmN0aW9uIEVudGVyZWRPcHRpb25zU2V0KCRvcHRpb25faWQpew0KICAgICRwbG90dGluZ19zZXQgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fc2V0c19uZWVkZWQgV0hFUkUgb3B0aW9uX2lkID0gJyIuJG9wdGlvbl9pZC4iJyBBTkQgb3JkZXJfaWQgPSAnMCcgIiA7DQogICAgJHNldCA9IG15c3FsX3F1ZXJ5KCRwbG90dGluZ19zZXQpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHNldCkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsgIA0KfQ0KDQpmdW5jdGlvbiBBdmxPcHRpb25zUmVtYWluaW5nKCRjb21wYW55X2lkLCAkdXNlcl9pZCl7DQogICAgJHBsb3R0aW5nX3NldCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wbG90dGluZ19zZXQgV0hFUkUgY29tcGFueV9pZCA9ICciLiRjb21wYW55X2lkLiInIEFORCB1c2VyX2lkID0gJyIuJHVzZXJfaWQuIicgQU5EIG9yZGVyX2lkID0gJzAnIEFORCByZWNpcGllbnRzX3NldCA9ICcxJyIgOw0KICAgICRzZXQgPSBteXNxbF9xdWVyeSgkcGxvdHRpbmdfc2V0KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRzZXQpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7ICANCn0NCg0KZnVuY3Rpb24gUmVtYWluaW5nU2V0cygkY29tcGFueV9pZCwgJHVzZXJfaWQpew0KICAgICRwbG90dGluZ19zZXQgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcGxvdHRpbmdfc2V0IFdIRVJFIGNvbXBhbnlfaWQgPSAnIi4kY29tcGFueV9pZC4iJyBBTkQgdXNlcl9pZCA9ICciLiR1c2VyX2lkLiInIEFORCBvcmRlcl9pZCA9ICcwJyIgOw0KICAgICRzZXQgPSBteXNxbF9xdWVyeSgkcGxvdHRpbmdfc2V0KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRzZXQpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7ICANCn0NCg0KZnVuY3Rpb24gUmVtYWluaW5nU2V0c0FmdGVyKCRjb21wYW55X2lkLCAkdXNlcl9pZCl7DQogICAgJHBsb3R0aW5nX3NldCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wbG90dGluZ19zZXQgV0hFUkUgY29tcGFueV9pZCA9ICciLiRjb21wYW55X2lkLiInIEFORCB1c2VyX2lkID0gJyIuJHVzZXJfaWQuIicgQU5EIG9yZGVyX2lkID0gJzAnIEFORCByZWNpcGllbnRzX3NldCA9ICcwJyIgOw0KICAgICRzZXQgPSBteXNxbF9xdWVyeSgkcGxvdHRpbmdfc2V0KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRzZXQpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7ICANCn0NCg0KZnVuY3Rpb24gRW50ZXJlZFBsb3RSZWNpcGllbnRzQ3VycmVudE9wdGlvbigkaWQpIHsNCiAgICAkc2VsZWN0X2ZhdiA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wbG90dGluZ19zZXQgV0hFUkUgaWQgPSAnIi4kaWQuIicgR1JPVVAgQlkgcGxvdF9hcmNoIE9SREVSIEJZIHBsb3RfYXJjaCBERVNDIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2Zhdik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQpmdW5jdGlvbiBFbnRlcmVkUGxvdFJlY2lwaWVudHNDdXJyZW50T3B0aW9uRHluYW1pYygkY29tcGFueV9pZCwgJHVzZXJfaWQpIHsNCiAgICAkc2VsZWN0X2ZhdiA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wbG90dGluZ19zZXQgV0hFUkUgY29tcGFueV9pZCA9ICciLiRjb21wYW55X2lkLiInIEFORCB1c2VyX2lkID0gJyIuJHVzZXJfaWQuIicgQU5EIG9yZGVyX2lkID0gJzAnIEFORCByZWNpcGllbnRzX3NldCA9ICcwJyBPUkRFUiBCWSBpZCBBU0MgTElNSVQgMSIgOw0KICAgICRkZXRhaWxzICAgICAgID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9mYXYpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGRldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIEVudGVyZWRQbG90UmVjaXBpZW50c0N1cnJlbnRPcHRpb25ZbmFtaWMoJGNvbXBhbnlfaWQsICR1c2VyX2lkLCAkb3B0aW9uX2lkKSB7DQogICAgJHNlbGVjdF9mYXYgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fcGxvdHRpbmdfc2V0IFdIRVJFIGNvbXBhbnlfaWQgPSAnIi4kY29tcGFueV9pZC4iJyBBTkQgdXNlcl9pZCA9ICciLiR1c2VyX2lkLiInIEFORCBvcmRlcl9pZCA9ICcwJyBBTkQgb3B0aW9ucyA9ICciLiRvcHRpb25faWQuIicgQU5EIHJlY2lwaWVudHNfc2V0ID0gJzEnICBPUkRFUiBCWSBpZCBBU0MgTElNSVQgMSIgOw0KICAgICRkZXRhaWxzICAgICAgID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9mYXYpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJGRldGFpbHMpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIENoZWNrT3B0aW9uSWR3aXRoUmVjKCRjb21wYW55X2lkLCAkdXNlcl9pZCwgJG9wdGlvbl9pZCkgew0KICAgICRzZWxlY3RfZmF2ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3Bsb3R0aW5nX3NldCBXSEVSRSBjb21wYW55X2lkID0gJyIuJGNvbXBhbnlfaWQuIicgQU5EIHVzZXJfaWQgPSAnIi4kdXNlcl9pZC4iJyBBTkQgb3JkZXJfaWQgPSAnMCcgQU5EIG9wdGlvbnMgPSAnIi4kb3B0aW9uX2lkLiInIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2Zhdik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gQ2hlY2tPcHRpb25UaGVyZSgkY29tcGFueV9pZCwgJHVzZXJfaWQsICRvcHRpb25faWQpIHsNCiAgICAkc2VsZWN0X2ZhdiA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19zZXRzX25lZWRlZCBXSEVSRSBjb21wX2lkID0gJyIuJGNvbXBhbnlfaWQuIicgQU5EIHVzcl9pZCA9ICciLiR1c2VyX2lkLiInIEFORCBvcHRpb25faWQgPSAnIi4kb3B0aW9uX2lkLiInIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2Zhdik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KDQpmdW5jdGlvbiBTZXR0ZWRPcHRpb25zKCRjb21wYW55X2lkLCAkdXNlcl9pZCkgew0KICAgICRzZWxlY3RfZmF2ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3NldHNfbmVlZGVkIFdIRVJFIGNvbXBfaWQgPSAnIi4kY29tcGFueV9pZC4iJyBBTkQgdXNyX2lkID0gJyIuJHVzZXJfaWQuIicgQU5EIG9yZGVyX2lkID0gJzAnIiA7DQogICAgJGRldGFpbHMgICAgICAgPSBteXNxbF9xdWVyeSgkc2VsZWN0X2Zhdik7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkZGV0YWlscykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gRXhpc3RTZXRzV2l0aG91dFJlY2lwaWVudHMoJGNvbXBhbnlfaWQsICR1c2VyX2lkKXsNCiAgICAkcGxvdHRpbmdfc2V0ID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX3Bsb3R0aW5nX3NldCBXSEVSRSBjb21wYW55X2lkID0gJyIuJGNvbXBhbnlfaWQuIicgQU5EIHVzZXJfaWQgPSAnIi4kdXNlcl9pZC4iJyBBTkQgb3JkZXJfaWQgPSAnMCcgQU5EIHJlY2lwaWVudHNfc2V0ID0gJzAnIE9SREVSIEJZIG9wdGlvbnMgQVNDIExJTUlUIDEiIDsNCiAgICAkc2V0ID0gbXlzcWxfcXVlcnkoJHBsb3R0aW5nX3NldCk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkc2V0KSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOyAgDQp9DQoNCmZ1bmN0aW9uIFN1bU9mZlBsb3R0KCRpZCkgew0KICAgICRzZWxlY3RfcHJpY2UgPSAiU0VMRUNUIHN1bShwbG90X25lZWRlZCkgYXMgcGxvdHQgRlJPTSBzb2hvcmVwcm9fc2V0c19uZWVkZWQgV0hFUkUgb3B0aW9uX2lkID0gJyIuJGlkLiInIEFORCBvcmRlcl9pZCA9ICcwJyIgOyAgICANCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3ByaWNlKTsNCiAgICAkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJHByaWNlKTsNCiAgICAkY2F0ZyA9ICRvYmplY3RbJ3Bsb3R0J107DQogICAgcmV0dXJuICRjYXRnOw0KfQ0KDQpmdW5jdGlvbiBTdW1PZmZBcmNoKCRpZCkgew0KICAgICRzZWxlY3RfcHJpY2UgPSAiU0VMRUNUIHN1bShhcmNoX25lZWRlZCkgYXMgYXJjaCBGUk9NIHNvaG9yZXByb19zZXRzX25lZWRlZCBXSEVSRSBvcHRpb25faWQgPSAnIi4kaWQuIicgQU5EIG9yZGVyX2lkID0gJzAnIiA7ICAgIA0KICAgICRwcmljZSA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfcHJpY2UpOw0KICAgICRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJpY2UpOw0KICAgICRjYXRnID0gJG9iamVjdFsnYXJjaCddOw0KICAgIHJldHVybiAkY2F0ZzsNCn0NCi8qIEludm9pY2UgU2VjdGlvbiBGdW5jdGlvbiBBZGRlZCBCeSBSYWJlZWsgMTEtMDktMjAxNSBGcmlkYXkgKi8NCg0KLy9Hcm91cCBCeSBDb21wYW55IE5hbWUgQW5kIFJlZmVyZW5jZSBpbiBJbnZvaWNlIFRhYmxlDQoNCmZ1bmN0aW9uIENoZWNrSW52b2ljZUNvbXBhbnlGaWx0ZXIoKSB7ICAgIA0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2ludm9pY2UgV0hFUkUgaW52X3N0YXR1cyA9ICcxJyBHUk9VUCBCWSBjb21wYW55X25hbWUgT1JERVIgQlkgaWQiOyANCiAgICAkb3JkZXJzID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9vcmRlcnMpOw0KICAgIHdoaWxlICgkb2JqZWN0ID0gbXlzcWxfZmV0Y2hfYXNzb2MoJG9yZGVycykpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0gDQoNCi8vQ2hlY2tJZkV4aXN0DQpmdW5jdGlvbiBDaGVja0lmRXhpc3QoJGNvbXBhbnlfaWQsICR1c2VyX2lkLCAkb3B0aW9uX2lkLCAkcmFuZF9pZCkgeyAgICANCiAgICAkc2VsZWN0X29yZGVycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19zZXRzX25lZWRlZCBXSEVSRSBjb21wX2lkID0gJyIuJGNvbXBhbnlfaWQuIicgQU5EIHVzcl9pZCA9ICciLiR1c2VyX2lkLiInIEFORCBvcHRpb25faWQgPSAnIi4kb3B0aW9uX2lkLiInIEFORCByYW5kX2lkID0gJyIuJHJhbmRfaWQuIicgQU5EIG9yZGVyX2lkID0gJzAnICI7IA0KICAgICRvcmRlcnMgPSBteXNxbF9xdWVyeSgkc2VsZWN0X29yZGVycyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkb3JkZXJzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfSANCg0KDQoNCi8vR3JvdXAgYnkgT3JkZXIgSWQNCmZ1bmN0aW9uIEludm9pY2VPcmRlcnNfUmVmZXJlbmNlKCRpZCkgeyAgICANCiAgICAkc2VsZWN0X29yZGVycyA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19pbnZvaWNlIFdIRVJFIGludl9zdGF0dXMgPSAnMScgQU5EIGNvbXBhbnlfbmFtZSA9ICciLiRpZC4iJyBHUk9VUCBCWSBvcmRlcl9pZCI7IA0KICAgICRvcmRlcnMgPSBteXNxbF9xdWVyeSgkc2VsZWN0X29yZGVycyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkb3JkZXJzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KLy9HRVQgUFJPRFVDVCBERVRBSUxTIEZST00gSU5WT0lDRSB0YWJsZQ0KZnVuY3Rpb24gR2V0SW52b2ljZXZpZXdPcmRlcnMoJGlkKSB7DQogICAgLy9yZXR1cm4gJGlkOw0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2ludm9pY2UgV0hFUkUgb3JkZXJfaWQgPSAnIi4kaWQuIiciIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X29yZGVycyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJpY2UpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQovL0dFVCBUT1RBTCBJTlZPSUNFDQpmdW5jdGlvbiBnZXRUb3RhbEludm9pY2UoJGlkKSB7DQogICAgLy9yZXR1cm4gJGlkOw0KICAgICRzZWxlY3Rfb3JkZXJzID0gIlNFTEVDVCBTVU0obGluZV9jb3N0KSBhcyBncmFudF90b3RhbCBGUk9NIHNvaG9yZXByb19pbnZvaWNlIElOTkVSIEpPSU4gc29ob3JlcHJvX2NvbXBhbnkgT04gc29ob3JlcHJvX2ludm9pY2UuY3VzdG9tZXJfaWQgPSBzb2hvcmVwcm9fY29tcGFueS5jb21wX2lkIFdIRVJFIHNvaG9yZXByb19pbnZvaWNlLmludl9zdGF0dXMgPSAnMScgYW5kIHNvaG9yZXByb19jb21wYW55LmNvbXBfaWQgPSAnIi4kaWQuIiciIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X29yZGVycyk7DQogICAgd2hpbGUgKCRvYmplY3QgPSBteXNxbF9mZXRjaF9hc3NvYygkcHJpY2UpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7DQp9DQovL0dFVCBTdWJ0b3RhbCBvZiBpbiBJTlZPSUNFIHRhYmxlDQpmdW5jdGlvbiBnZXRJbnZvaWNlUHJpY2UoJGlkKSB7DQogICAgJHNlbGVjdF9wcmljZSA9ICJTRUxFQ1Qgc3VtKGxpbmVfY29zdCkgYXMgc3ViX3RvdGFsIEZST00gc29ob3JlcHJvX2ludm9pY2UgV0hFUkUgb3JkZXJfaWQgPSAnIi4kaWQuIiciIDsNCiAgICAkcHJpY2UgPSBteXNxbF9xdWVyeSgkc2VsZWN0X3ByaWNlKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRwcmljZSkpOg0KICAgICAgICAkdmFsdWVbXSA9ICRvYmplY3Q7DQogICAgZW5kd2hpbGU7DQogICAgcmV0dXJuICR2YWx1ZTsNCn0NCi8vR0VUIElOVk9JQ0UgSUQNCmZ1bmN0aW9uIEdldEludm9pY2VfSUQoJGlkKSB7DQogICAgJHNlbGVjdF91c2VyID0gIlNFTEVDVCAqIEZST00gc29ob3JlcHJvX2ludm9pY2UgV0hFUkUgY3VzdG9tZXJfaWQgPSAnIi4kaWQuIicgYW5kIGludl9zdGF0dXMgPSAnMScgT1JERVIgQlkgaWQgREVTQyAiOw0KICAgICR1c2VyID0gbXlzcWxfcXVlcnkoJHNlbGVjdF91c2VyKTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCR1c2VyKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgIHJldHVybiAkdmFsdWU7DQp9DQoNCmZ1bmN0aW9uIFNwZWNpYWxzKCRpZCkgew0KICAgICRzZWxlY3RfY2F0ZWdvcnkgPSAiU0VMRUNUIGNhcHRpb24gRlJPTSBzb2hvcmVwcm9fcGlja3VwX2FkZCBXSEVSRSBpZCA9ICciLiRpZC4iJyI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydjYXB0aW9uJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KDQpmdW5jdGlvbiBHZXRMYXN0UmFuZG9tSWQoJGlkKSB7DQogICAgJHNlbGVjdF9jYXRlZ29yeSA9ICJTRUxFQ1QgcmFuZF9pZCBGUk9NIHNvaG9yZXByb19zZXRzX25lZWRlZCBXSEVSRSBpZCA9ICciLiRpZC4iJyI7DQogICAgJGNhdGVnb3J5ID0gbXlzcWxfcXVlcnkoJHNlbGVjdF9jYXRlZ29yeSk7DQogICAgJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRjYXRlZ29yeSk7DQogICAgJGNhdGcgPSAkb2JqZWN0WydyYW5kX2lkJ107IA0KICAgIHJldHVybiAkY2F0ZzsNCn0NCg0KDQpmdW5jdGlvbiBPcHRpb25zXzQoJGlkKSB7DQogICAgJHNlbGVjdF9mYXYgPSAiU0VMRUNUICogRlJPTSBzb2hvcmVwcm9fc2V0c19uZWVkZWQgV0hFUkUgaWQgPSAnIi4kaWQuIiciIDsNCiAgICAkZGV0YWlscyAgICAgICA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfZmF2KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRkZXRhaWxzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBBbGxCaW5kaW5nT3B0aW9ucygkY29tcGFueV9pZCwgJHVzZXJfaWQsICRyZWZlcmVuY2UpIHsNCiAgICAkc2VsZWN0X2ZhdiA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19zZXJ2aWNlX2JpbmRpbmcgV0hFUkUgY29tcF9pZCA9ICciLiRjb21wYW55X2lkLiInIEFORCB1c2VyX2lkID0gJyIuJHVzZXJfaWQuIicgQU5EIHJlZmVyZW5jZSA9ICciLiRyZWZlcmVuY2UuIiciIDsNCiAgICAkZGV0YWlscyAgICAgICA9IG15c3FsX3F1ZXJ5KCRzZWxlY3RfZmF2KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRkZXRhaWxzKSk6DQogICAgICAgICR2YWx1ZVtdID0gJG9iamVjdDsNCiAgICBlbmR3aGlsZTsNCiAgICByZXR1cm4gJHZhbHVlOw0KfQ0KDQoNCg0KZnVuY3Rpb24gTGFzdEZpbGVPcHRpb25FbnRlcmVkKCRjb21wYW55X2lkLCAkdXNlcl9pZCl7DQogICAgJHBsb3R0aW5nX3NldCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wbG90dGluZ19zZXQgV0hFUkUgY29tcGFueV9pZCA9ICciLiRjb21wYW55X2lkLiInIEFORCB1c2VyX2lkID0gJyIuJHVzZXJfaWQuIicgQU5EIG9yZGVyX2lkID0gJzAnIEFORCByZWNpcGllbnRzX3NldCA9ICcwJyBPUkRFUiBCWSBvcHRpb25zIERFU0MgTElNSVQgMSIgOw0KICAgICRzZXQgPSBteXNxbF9xdWVyeSgkcGxvdHRpbmdfc2V0KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRzZXQpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7ICANCn0NCg0KDQpmdW5jdGlvbiBMYXN0RmlsZU9wdGlvbkVudGVyZWRTYW1lKCRjb21wYW55X2lkLCAkdXNlcl9pZCl7DQogICAgJHBsb3R0aW5nX3NldCA9ICJTRUxFQ1QgKiBGUk9NIHNvaG9yZXByb19wbG90dGluZ19zZXQgV0hFUkUgY29tcGFueV9pZCA9ICciLiRjb21wYW55X2lkLiInIEFORCB1c2VyX2lkID0gJyIuJHVzZXJfaWQuIicgQU5EIG9yZGVyX2lkID0gJzAnIEFORCByZWNpcGllbnRzX3NldCA9ICcwJyBBTkQgdXNlX3NhbWVfYWx0ID0gJzAnIE9SREVSIEJZIG9wdGlvbnMgREVTQyIgOw0KICAgICRzZXQgPSBteXNxbF9xdWVyeSgkcGxvdHRpbmdfc2V0KTsNCiAgICB3aGlsZSAoJG9iamVjdCA9IG15c3FsX2ZldGNoX2Fzc29jKCRzZXQpKToNCiAgICAgICAgJHZhbHVlW10gPSAkb2JqZWN0Ow0KICAgIGVuZHdoaWxlOw0KICAgIHJldHVybiAkdmFsdWU7ICANCn0NCj8+DQo=")); ?>